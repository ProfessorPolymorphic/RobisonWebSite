{
  "hash": "ebfb326217b34700729bdb363ad6510e",
  "result": {
    "markdown": "---\ntitle: \"TUTORIAL 4\"\nsubtitle: \"Barrie describes his data...\"\ndate: \"2023-01-25\"\nauthor: \"Barrie D. Robison\"\nformat: html\ncode-fold: true\ncategories: [Tutorial, Resources, Quarto, Data Sets]\ndescription: \"Barrie attempts ASSIGMENT 2!  Will his glimpse of the Data Science Mythos drive him **MAD**?\"\nimage: Hasturcodes.png\n---\n\n\n# ASSIGNMENT 2: Your Data\n\nIn this assignment (detalied [here](../A2-YourData/index.qmd)), I will identify, import, describe, and host a data set that will be used throughout the remainder of the BCB 504 course for Data Visualizations.\n\n## MY DATASET\n\nI've chosen a subset of a large dataset produced by our evolutionary video game, [Project Hastur](https://store.steampowered.com/app/800700/Project_Hastur/). We built Project Hatur to be an evolutionary video game, and we are bold in our assertions of that fact. But we haven't really published any evidence that the evolutionary model works. This data set is the beginning of that exercise.\n\n::: callout-note\nPROJECT HASTUR creates a unique challenge by combining elements of 3D tower defense and real-time strategy with biological evolution. Fight against alien Proteans that evolve - using biologically accurate models of evolution - to overcome the player's defenses.\n\nEach creature you will face has its own unique genome controlling its abilities, behaviors, and appearance. Those that make it the furthest and do the most damage to your defenses have the most offspring you will have to defeat in the next generation. The result? Evolution responds to the player's strategy and makes every playthrough a unique experience.\n\nUse four upgradable turret classes, plus airstrikes and combat robots, to fight against the Protean invasion. Make strategic decisions about which turrets to build, when to upgrade them, and where to place them on the hex grid. A well-timed airstrike can change the flow of the game, but you'll have to wait before you can use it again. Unlock powerful upgrades for each turret class as you move across the Nyx system. As you play, the Proteans evolve new weapon resistances, behaviors, and movement capabilities to better destroy your defenses.\n\nIn CAMPAIGN MODE, battle through a series of maps as a military defense commander to protect the planet Nyx from the ever-evolving threat of the Proteans. Unlock weapons and upgrades and use them to fight against the Protean swarm and learn about the mysteries of Project Hastur.\n\nIn EXPERIMENT MODE, choose any map, tweak the parameters, and play infinitely to see what you can evolve. Change the number of creatures and the parameters of evolution, make your turrets invincible, or crank up the biomatter and experiment with the most powerful turret upgrades. Experiment mode lets you experience Project Hastur your way.\n:::\n\n### Data Collection\n\nThe data were collected by running Project Hastur in Experiment mode using four predefined conditions:\n\n**I:** The CHIP SHREDDER towers when Fitness Functions were turned ON and Civilians were PRESENT. \n\n**H:** The CHIP SHREDDER towers when Fitness Functions were turned OFF and Civilians were PRESENT.\n\n**G:** The CHIP SHREDDER towers when Fitness Functions were turned ON and Civilians were ABSENT.\n\n**K:** The AUTOCANNON towers when Fitness Functions were turned ON and Civilians were ABSENT.\n\nEach experimental condition was run 9 times (9 replicates).\n\n## IMPORTING THE DATA\n\nI'm going to use the `vroom` package to import multiple files. Each file is a replicate and the filename tells us about the experimental condition. Below I convert the filename variable (I named it `path`) into a a single categorical attribute called `Fit` that uses the letter codes above.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(vroom)\nlibrary(stringr)\nlibrary(tidyverse)\nlibrary(readxl)\nfiles <- fs::dir_ls(glob = \"*.csv\")\n\nHastur <- vroom(files, id = \"path\", \n                col_select = c(path, Generation, ID, Origin, AsexualReproduction, Fitness, Health,\n                               SightRange, Armor, Damage, WalkSpeed, RunSpeed, Acceleration, \n                               TurnRate, Attraction0, Attraction1, Attraction2))\n\nHastur$Fit <- str_split_i(Hastur$path, pattern = \"\", 1)\nHastur$replicate <- str_split_i(Hastur$path, pattern = \"\", 4)\n```\n:::\n\n\nThe `glimpse` command in the `Tidyverse` package is a nice way to summarize the data frame:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(Hastur)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 412,246\nColumns: 19\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat <- vroom(...)\n  problems(dat)\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n$ path                <chr> \"GSC1.csv\", \"GSC1.csv\", \"GSC1.csv\", \"GSC1.csv\", \"G…\n$ Generation          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ ID                  <dbl> 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, …\n$ Origin              <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ AsexualReproduction <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Fitness             <dbl> 57.83508, 66.87755, 66.14652, 65.88873, 62.12119, …\n$ Health              <dbl> 1006, 1012, 1011, 992, 983, 1020, 982, 963, 996, 9…\n$ SightRange          <dbl> 9.952521, 10.096590, 9.954091, 10.066170, 10.02955…\n$ Armor               <dbl> 0.05081077, 0.05080924, 0.05010696, 0.04903501, 0.…\n$ Damage              <dbl> 49, 51, 51, 50, 50, 51, 50, 49, 51, 50, 49, 50, 49…\n$ WalkSpeed           <dbl> 6.930266, 7.034348, 6.970608, 6.903729, 6.962081, …\n$ RunSpeed            <dbl> 20.03562, 19.88800, 19.80754, 19.94738, 19.95583, …\n$ Acceleration        <dbl> 14.70648, 15.05868, 14.85994, 14.89853, 15.01570, …\n$ TurnRate            <dbl> 356.3890, 361.2032, 358.9919, 361.8476, 360.6143, …\n$ Attraction0         <dbl> 0.158477500, -0.007134318, -0.063494000, 0.0125864…\n$ Attraction1         <dbl> -0.070695680, 0.059872570, -0.003332689, 0.0458469…\n$ Attraction2         <dbl> -0.108705200, 0.015018780, -0.007600136, 0.0120656…\n$ Fit                 <chr> \"G\", \"G\", \"G\", \"G\", \"G\", \"G\", \"G\", \"G\", \"G\", \"G\", …\n$ replicate           <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", …\n```\n:::\n:::\n\n\n## DESCRIBE THE DATA\n\n### Data Set Type\n\nWhat we have here is a (big) **Flat Table**. The **Items** are the rows, and each row is an individual alien enemy that existed during one of the replicates. Each Item (alien) is described by **Attributes**, which are arranged in the columns.\n\n### Attribute Types\n\nThe `glimpse` we did in the preceding section gives us a hint as to what each attribute type might be. Let's flesh that out a bit though. I'm going to create a new data frame that describes the attributes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAttributes <- read_excel(\"Attributes.xlsx\")\nknitr::kable(Attributes)\n```\n\n::: {.cell-output-display}\n|Attribute           |Type         |Note                                                                  |\n|:-------------------|:------------|:---------------------------------------------------------------------|\n|path                |Categorical  |each File Name is a unique replicate                                  |\n|Generation          |Quantitative |Each Enemy Wave is a Generation                                       |\n|ID                  |Ordinal      |Each enemy has a unique ID within each replicate                      |\n|Origin              |Categorical  |The hive from which the enemy was spawned                             |\n|AsexualReproduction |Categorical  |Was the enemy spawned by infectiing a civilian?                       |\n|Fitness             |Quantitative |The value of Fitness is used to determine probability of reproduction |\n|Health              |Quantitative |Hit Points                                                            |\n|SightRange          |Quantitative |How far they can see civilians, towers, etc                           |\n|Armor               |Quantitative |resistance to physical damage                                         |\n|Damage              |Quantitative |how much damage they do to towers                                     |\n|WalkSpeed           |Quantitative |how fast they can walk                                                |\n|RunSpeed            |Quantitative |how fast they can run                                                 |\n|Acceleration        |Quantitative |how fast they can transition from walking to running                  |\n|TurnRate            |Quantitative |how fast they can turn                                                |\n|Attraction0         |Quantitative |negative values is attraction to civilians, positive is avoidance     |\n|Attraction1         |Quantitative |negative values is attraction to towers, positive is avoidance        |\n|Attraction2         |Quantitative |negative values is attraction to the base, positive is avoidance      |\n|Fit                 |Categorical  |I, H, G, or K - an inscrutable code about fitness conditions          |\n:::\n:::\n\nThe problem here is my inscrutable filename codes for that Fit variable.  Those letter codes actually contain information on a couple hidden variables.  I'm going to create a new variable called `Gun` and another called `Civilians`.  I'll add those to the main data file and also the Data Dicttionary.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHastur$Gun <- \"CHIP SHREDDER\"\nHastur$Civilians <- \"Present\"\n  \n\n  Hastur$Gun[Hastur$Fit==\"K\"]<- \"AUTOCANNON\"\n     \n  Hastur$Civilians[Hastur$Fit==\"K\" | Hastur$Fit ==\"G\"] <- \"ABSENT\"\n     \n\n  Attributes<-rbind(Attributes, c(\"Gun\",\"Categorical\", \"Autocannon or Chip Shredder\"))\n  Attributes<-rbind(Attributes, c(\"Civilians\",\"Categorical\", \"Present or Absent\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n  knitr::kable(Attributes)\n```\n\n::: {.cell-output-display}\n|Attribute           |Type         |Note                                                                  |\n|:-------------------|:------------|:---------------------------------------------------------------------|\n|path                |Categorical  |each File Name is a unique replicate                                  |\n|Generation          |Quantitative |Each Enemy Wave is a Generation                                       |\n|ID                  |Ordinal      |Each enemy has a unique ID within each replicate                      |\n|Origin              |Categorical  |The hive from which the enemy was spawned                             |\n|AsexualReproduction |Categorical  |Was the enemy spawned by infectiing a civilian?                       |\n|Fitness             |Quantitative |The value of Fitness is used to determine probability of reproduction |\n|Health              |Quantitative |Hit Points                                                            |\n|SightRange          |Quantitative |How far they can see civilians, towers, etc                           |\n|Armor               |Quantitative |resistance to physical damage                                         |\n|Damage              |Quantitative |how much damage they do to towers                                     |\n|WalkSpeed           |Quantitative |how fast they can walk                                                |\n|RunSpeed            |Quantitative |how fast they can run                                                 |\n|Acceleration        |Quantitative |how fast they can transition from walking to running                  |\n|TurnRate            |Quantitative |how fast they can turn                                                |\n|Attraction0         |Quantitative |negative values is attraction to civilians, positive is avoidance     |\n|Attraction1         |Quantitative |negative values is attraction to towers, positive is avoidance        |\n|Attraction2         |Quantitative |negative values is attraction to the base, positive is avoidance      |\n|Fit                 |Categorical  |I, H, G, or K - an inscrutable code about fitness conditions          |\n|Gun                 |Categorical  |Autocannon or Chip Shredder                                           |\n|Civilians           |Categorical  |Present or Absent                                                     |\n:::\n:::\n\n\n\n\n## HOST THE DATA\n\nI'm publishing to GitHub! We will elaborate on this step as everyone progresses through the assignment.\n\n## TASK ABSTRACTION\n\nFor this data set, I am currently defining the user as ... me! My hypothesis is that the two Fitness conditions create different evolutionary outcomes of the aliens in Project Hastur. Some relevant ACTION TARGET pairs might be:\n\nDISCOVER TRENDS\n\nDISCOVER DISTRIBUTION\n\nDISCOVER SIMILARITY\n\nCOMPARE TRENDS\n\nCOMPARE DISTRIBUTION\n\nI'm going to try COMPARE TRENDS. I want to COMPARE the TREND in `Health` over time (`Generation`) between the two `Gun` types. To do this, I'll create a scatterplot, faceted by `Gun`. I'm suspicious that `Acceleration` is involved somehow, so I'm coloring with that variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Hastur, aes(x=Generation, y = Health))+\n  geom_point(aes(color=Acceleration), alpha = 0.01, size = 1)+\n  scale_color_continuous(low=\"red\", high = \"blue\")+\n  facet_grid(replicate~Gun)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nInteresting... it looks like a clear trend for `Health` to increase under the withering fire of the AUTO CANNONS, but not when the player uses the CHIP SHREDDER.  It is a bit hard to see what is going on with `Acceleration`, so let's reverse the graphs so that we plot `Acceleration` on the y axis but color by `Health`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Hastur, aes(x=Generation, y = Acceleration))+\n  geom_point(aes(color=Health), alpha = 0.01, size = 1)+\n  scale_color_continuous(low=\"red\", high = \"blue\")+\n  facet_grid(replicate~Gun)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nI'm now confident that the replicates within each `Gun` type are pretty similar, and I can SUMMARIZE the individual data points.  This will help with the COMPARE TRENDS task, I think.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Hastur, aes(x=Generation, y = Health))+\n  geom_point(aes(color=Acceleration), alpha = 0.01, size = 1)+\n  geom_smooth()+\n  scale_color_continuous(low=\"red\", high = \"blue\")+\n  facet_wrap(~Gun)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(Hastur, aes(x=Generation, y = Acceleration))+\n  geom_point(aes(color=Health), alpha = 0.01, size = 1)+\n  geom_smooth()+\n  scale_color_continuous(low=\"red\", high = \"blue\")+\n  facet_wrap(~Gun)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}