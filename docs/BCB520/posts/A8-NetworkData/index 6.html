<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.220">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Barrie Robison">
<meta name="dcterms.date" content="2023-04-19">
<meta name="description" content="iGRAPH!">

<title>Robison - Practice with Network Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Robison</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../Research.html" rel="" target="" aria-current="page">
 <span class="menu-text">RESEARCH</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../Publications.html" rel="" target="">
 <span class="menu-text">PUBLICATIONS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../Teaching.html" rel="" target="">
 <span class="menu-text">TEACHING</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../PolymorphicGames.html" rel="" target="">
 <span class="menu-text">STUDIO</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../ProfessorPolymorphic/index.html" rel="" target="">
 <span class="menu-text">BLOG</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../BCB520/index.html">BCB 520:: Foundations of Data Visualization</a></li><li class="breadcrumb-item"><a href="../../../BCB520/posts/T6-APIsandJSON/index.html">Posts</a></li><li class="breadcrumb-item"><a href="../../../BCB520/posts/A8-NetworkData/index.html">Practice with Network Data</a></li></ol></nav>
      <a class="flex-grow-1" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Practice with Network Data</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
            <p class="subtitle lead">Nodes and Links and edges and vertices…</p>
                  <div>
        <div class="description">
          iGRAPH!
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Portfolio</div>
                <div class="quarto-category">DataViz</div>
                <div class="quarto-category">Network</div>
                <div class="quarto-category">iGraph</div>
                <div class="quarto-category">Assignment</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Barrie Robison </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 19, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../PolymorphicGames.html" class="sidebar-item-text sidebar-link">Polymorphic Games</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Publications.html" class="sidebar-item-text sidebar-link">PUBLICATIONS</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Research.html" class="sidebar-item-text sidebar-link">RESEARCH</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Teaching.html" class="sidebar-item-text sidebar-link">TEACHING</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../BCB520/index.html" class="sidebar-item-text sidebar-link">BCB 520:: Foundations of Data Visualization</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Posts</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T6-APIsandJSON/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 6 - APIs and JSON data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T8-MidtermExample/index.html" class="sidebar-item-text sidebar-link">BCB 520 - Midterm Portfolio Post</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L2-Data-Abstraction/index.html" class="sidebar-item-text sidebar-link">LECTURE 2 - DATA ABSTRACTION</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T4-BarriesData/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L4-Marks-Channels/index.html" class="sidebar-item-text sidebar-link">LECTURE 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/Certificate/index.html" class="sidebar-item-text sidebar-link">CERTIFICATE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L1-Intro/index.html" class="sidebar-item-text sidebar-link">LECTURE 1 - INTRO</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T3-Python/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 3 - Python</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A1-Lit-Prog/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 1 - Fun with literate programming.</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L3-TaskAbstraction/index.html" class="sidebar-item-text sidebar-link">LECTURE 3 - TASK ABSTRACTION</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T1-Lit-Prog/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 1 - Literate Programming</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/Syllabus/index.html" class="sidebar-item-text sidebar-link">SYLLABUS 2023</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A8-NetworkData/index.html" class="sidebar-item-text sidebar-link active">Practice with Network Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A3-PrototypeVizPortfolio/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A6-Midterm/index.html" class="sidebar-item-text sidebar-link">Midterm Assignment</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L6-TabularData1/index.html" class="sidebar-item-text sidebar-link">LECTURE 6 - Tabular Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T7-NHLDraft/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 7</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L5-ThumbRules/index.html" class="sidebar-item-text sidebar-link">LECTURE 5 - Rules of Thumb</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A5-TabularData/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A4-MarksChannels/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A2-YourData/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 2 - Your Data.</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T2-Anscombe/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 2 - Literate Programming and Anscombe’s Quartet</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T5-MarksChannels/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 5 - Marks and Channels</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L8-NetworkData/index.html" class="sidebar-item-text sidebar-link">LECTURE 8 - Network Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A7-SpatialData/index.html" class="sidebar-item-text sidebar-link">Practice with Spatial Data</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../ProfessorPolymorphic/index.html" class="sidebar-item-text sidebar-link">Professor Polymorphic</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Posts</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/post-with-code/index.html" class="sidebar-item-text sidebar-link">Observable Experiment</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/UndergradResearch/index.html" class="sidebar-item-text sidebar-link">UNDERGRADUATE RESEARCH</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/DataScienceMythos/index.html" class="sidebar-item-text sidebar-link">The Data Science Mythos</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/TickBaseDEI/index.html" class="sidebar-item-text sidebar-link">Reflections on Mentoring and Diversity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/welcome/index.html" class="sidebar-item-text sidebar-link">You’ve gotta be f***ing kidding…</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../ProfessorPolymorphic/posts/LabMeetings/index.html" class="sidebar-item-text sidebar-link">Polymorphic Games Lab Meeting</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/LabMeetings/OSTime.html" class="sidebar-item-text sidebar-link">OSDevTimeline</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/LabMeetings/SanteFeWorkshop.html" class="sidebar-item-text sidebar-link">SanteFe Workshop</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../ProfessorPolymorphic/posts/Viz_2Gen_Pedigree/index.html" class="sidebar-item-text sidebar-link">VIZ EXPERIMENT 1</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/Viz_2Gen_Pedigree/PedigreeViz.html" class="sidebar-item-text sidebar-link">PedigreeViz</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="overview" class="level1">
<h1>OVERVIEW</h1>
<p>In this assignment, we’ll consider some of the tools and techniques for visualizing network data. Network data is characterized by two unique items that are not found in tabular or spatial data - Nodes and Links. In addition, there is a sub-type of network data that we will consider - Hierarchical or Tree data. Let’s practice a few visualizations to get a feel for how these things work!</p>
</section>
<section id="network-basics" class="level1">
<h1>NETWORK BASICS!</h1>
<p>In class we talked about the strong possibility that each of you will encounter network data in your research. These data could be describing lots of different things in biologicial syste,s, from gene or protein expression networks, to hierarchical representations of ontologies, to phylogenetic trees. In geology and geoinformatics, network data would be used to describe the co-occurence of mineral species, or even knowledge graphs and other information representations.</p>
<section id="igraph" class="level2">
<h2 class="anchored" data-anchor-id="igraph">IGRAPH</h2>
<p>Let’s start with <a href="https://igraph.org">igraph</a>, which is an open source toolset for network analysis. The great thing about igraph is that you can use these tools in R, Python, Mathematica, and C++. It is very flexible and very powerful.</p>
<section id="igraph-in-r" class="level3">
<h3 class="anchored" data-anchor-id="igraph-in-r">igraph in R</h3>
<p>First up, we’ll install R/igraph and load the library (note that I’ve commented out the package installation because I’ve already installed igraph on my machine):</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("igraph")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'igraph'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    decompose, spectrum</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:base':

    union</code></pre>
</div>
</div>
<p>Now I’m going to walk you through a modified version of the igraph tutorial, which you can find <a href="https://r.igraph.org/articles/igraph.html">here</a></p>
</section>
</section>
<section id="creating-a-graph" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-graph">Creating a graph</h2>
<p><code>igraph</code> offers many ways to create a graph. The simplest one is the function <code>make_empty_graph</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_empty_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The most common way to create a graph is <code>make_graph</code>, which constructs a network based on specified edges. For example, to make a graph with 10 nodes (numbered <code>1</code> to <code>10</code>) and two edges connecting nodes <code>1-2</code> and <code>1-5</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="at">edges =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">1</span>,<span class="dv">5</span>), <span class="at">n=</span><span class="dv">10</span>, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We can print the graph to get a summary of its nodes and edges:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH fea5185 U--- 10 2 -- 
+ edges from fea5185:
[1] 1--2 1--5</code></pre>
</div>
</div>
<p>This means: <strong>U</strong>ndirected <strong>N</strong>amed graph with <strong>10</strong> vertices and <strong>2</strong> edges, with the exact edges listed out. If the graph has a <code>[name]</code> attribute, it is printed as well.</p>
<div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>summary</code> does not list the edges, which is convenient for large graphs with millions of edges:</p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH fea5185 U--- 10 2 -- </code></pre>
</div>
</div>
<p>The same function <code>make_graph</code> can create some notable graphs by just specifying their name. For example you can create the graph that represents the social network of Zachary’s karate club, that shows the friendship between 34 members of a karate club at a US university in the 1970s:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="st">'Zachary'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To visualize a graph you can use <code>plot</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="vertex-and-edge-ids" class="level2">
<h2 class="anchored" data-anchor-id="vertex-and-edge-ids">Vertex and edge IDs</h2>
<p>Vertices and edges have numerical vertex IDs in igraph. Vertex IDs are always consecutive and they start with 1. For a graph with n vertices the vertex IDs are always between 1 and n.&nbsp;If some operation changes the number of vertices in the graphs, e.g.&nbsp;a subgraph is created via <code>induced_subgraph</code>, then the vertices are renumbered to satisfy this criterion.</p>
<p>The same is true for the edges as well: edge IDs are always between 1 and m, the total number of edges in the graph.</p>
<p>In addition to IDs, vertices and edges can be assigned a name and other attributes. That makes it easier to track them whenever the graph is altered.</p>
</section>
<section id="addingdeleting-vertices-and-edges" class="level2">
<h2 class="anchored" data-anchor-id="addingdeleting-vertices-and-edges">Adding/deleting vertices and edges</h2>
<p>Let’s continue working with the Karate club graph. To add one or more vertices to an existing graph, use <code>add_vertices</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">add_vertices</span>(g, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Similarly, to add edges you can use <code>add_edges</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">add_edges</span>(g, <span class="at">edges =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">35</span>, <span class="dv">1</span>,<span class="dv">36</span>, <span class="dv">34</span>,<span class="dv">37</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Edges are added by specifying the source and target vertex IDs for each edge. This call added three edges, one connecting vertices <code>1</code> and <code>35</code>, one connecting vertices <code>1</code> and <code>36</code>, and one connecting vertices <code>34</code> and <code>37</code>.</p>
<p>In addition to the <code>add_vertices</code> and <code>add_edges</code> functions, the plus operator can be used to add vertices or edges to graph. The actual operation that is performed depends on the type of the right hand side argument:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> g <span class="sc">+</span> <span class="fu">edges</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">35</span>, <span class="dv">1</span>,<span class="dv">36</span>, <span class="dv">34</span>,<span class="dv">37</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can add a single vertex/edge at a time using <code>add_vertex</code> and <code>add_edge</code>.</p>
<p>Let us add some more vertices and edges to our graph. In <code>igraph</code> we can use the <code>magrittr</code> package, which provides a mechanism for chaining commands with the operator <code>%\&gt;%</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> g <span class="sc">%&gt;%</span> <span class="fu">add_edges</span>(<span class="at">edges=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">34</span>)) <span class="sc">%&gt;%</span> <span class="fu">add_vertices</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">add_edges</span>(<span class="at">edges=</span><span class="fu">c</span>(<span class="dv">38</span>,<span class="dv">39</span>, <span class="dv">39</span>,<span class="dv">40</span>, <span class="dv">40</span>,<span class="dv">38</span>, <span class="dv">40</span>,<span class="dv">37</span>))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH d0ecd70 U--- 40 86 -- Zachary
+ attr: name (g/c)
+ edges from d0ecd70:
 [1]  1-- 2  1-- 3  1-- 4  1-- 5  1-- 6  1-- 7  1-- 8  1-- 9  1--11  1--12
[11]  1--13  1--14  1--18  1--20  1--22  1--32  2-- 3  2-- 4  2-- 8  2--14
[21]  2--18  2--20  2--22  2--31  3-- 4  3-- 8  3--28  3--29  3--33  3--10
[31]  3-- 9  3--14  4-- 8  4--13  4--14  5-- 7  5--11  6-- 7  6--11  6--17
[41]  7--17  9--31  9--33  9--34 10--34 14--34 15--33 15--34 16--33 16--34
[51] 19--33 19--34 20--34 21--33 21--34 23--33 23--34 24--26 24--28 24--33
[61] 24--34 24--30 25--26 25--28 25--32 26--32 27--30 27--34 28--34 29--32
[71] 29--34 30--33 30--34 31--33 31--34 32--33 32--34 33--34  1--35  1--36
+ ... omitted several edges</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We now have an undirected graph with 40 vertices and 86 edges. Vertex and edge IDs are always <em>contiguous</em>, so if you delete a vertex all subsequent vertices will be renumbered. When a vertex is renumbered, edges are <strong>not</strong> renumbered, but their source and target vertices will be. Use <code>delete_vertices</code> and <code>delete_edges</code> to perform these operations. For instance, to delete the edge connecting vertices <code>1-34</code>, get its ID and then delete it:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get.edge.ids</span>(g, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">34</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 82</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">delete_edges</span>(g, <span class="dv">82</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As an example, to create a broken ring:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_ring</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">delete_edges</span>(<span class="st">"10|1"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The example above shows that you can also refer to edges with strings containing the IDs of the source and target vertices, connected by a pipe symbol <code>|</code>. <code>"10|1"</code> in the above example means the edge that connects vertex 10 to vertex 1. Of course you can also use the edge IDs directly, or retrieve them with the <code>get.edge.ids</code> function:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_ring</span>(<span class="dv">5</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">delete_edges</span>(g, <span class="fu">get.edge.ids</span>(g, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>, <span class="dv">4</span>,<span class="dv">5</span>)))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="constructing-graphs" class="level2">
<h2 class="anchored" data-anchor-id="constructing-graphs">Constructing graphs</h2>
<p>In addition to <code>make_empty_graph</code>, <code>make_graph</code>, and <code>make_graph_from_literal</code>, <code>igraph</code> includes many other function to construct a graph. Some are <em>deterministic</em>, i.e.&nbsp;they produce the same graph each single time, e.g.&nbsp;<code>make_tree</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>graph1 <span class="ot">&lt;-</span> <span class="fu">make_tree</span>(<span class="dv">127</span>, <span class="dv">2</span>, <span class="at">mode =</span> <span class="st">"undirected"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 39002c1 U--- 5 3 -- Ring graph
+ attr: name (g/c), mutual (g/l), circular (g/l)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This generates a regular tree graph with 127 vertices, each vertex having two children. No matter how many times you call <code>make_tree</code>, the generated graph will always be the same if you use the same parameters:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>graph2 <span class="ot">&lt;-</span> <span class="fu">make_tree</span>(<span class="dv">127</span>, <span class="dv">2</span>, <span class="at">mode =</span> <span class="st">"undirected"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical_graphs</span>(graph1,graph2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Other functions generate graphs <em>stochastically</em>, i.e.&nbsp;they produce a different graph each time. For instance <code>sample_grg</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>graph1 <span class="ot">&lt;-</span> <span class="fu">sample_grg</span>(<span class="dv">100</span>, <span class="fl">0.2</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(graph1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 78e7128 U--- 100 467 -- Geometric random graph
+ attr: name (g/c), radius (g/n), torus (g/l)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(graph1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This generates a geometric random graph: <em>n</em> points are chosen randomly and uniformly inside the unit square and pairs of points closer to each other than a predefined distance <em>d</em> are connected by an edge. If you generate GRGs with the same parameters, they will be different:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>graph2 <span class="ot">&lt;-</span> <span class="fu">sample_grg</span>(<span class="dv">100</span>, <span class="fl">0.2</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">identical_graphs</span>(graph1, graph2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(graph2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A slightly looser way to check if the graphs are equivalent is via <code>isomorphic</code>. Two graphs are said to be isomorphic if they have the same number of components (vertices and edges) and maintain a one-to-one correspondence between vertices and edges, i.e., they are connected in the same way.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isomorphic</span>(graph1, graph2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Checking for isomorphism can take a while for large graphs (in this case, the answer can quickly be given by checking the degree sequence of the two graphs). <code>identical_graph</code> is a stricter criterion than <code>isomorphic</code>: the two graphs must have the same list of vertices and edges, in exactly the same order, with same directedness, and the two graphs must also have identical graph, vertex and edge attributes.</p>
</section>
<section id="setting-and-retrieving-attributes" class="level2">
<h2 class="anchored" data-anchor-id="setting-and-retrieving-attributes">Setting and retrieving attributes</h2>
<p>In addition to IDs, vertex and edges can have <em>attributes</em> such as a name, coordinates for plotting, metadata, and weights. The graph itself can have such attributes too (e.g.&nbsp;a name, which will show in <code>summary</code>). In a sense, every graph, vertex and edge can be used as an R namespace to store and retrieve these attributes.</p>
<p>To demonstrate the use of attributes, let us create a simple social network:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="sc">~</span> Alice<span class="sc">-</span>Bob<span class="sc">:</span>Claire<span class="sc">:</span>Frank, Claire<span class="sc">-</span>Alice<span class="sc">:</span>Dennis<span class="sc">:</span>Frank<span class="sc">:</span>Esther,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>                George<span class="sc">-</span>Dennis<span class="sc">:</span>Frank, Dennis<span class="sc">-</span>Esther)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Each vertex represents a person, so we want to store ages, genders and types of connection between two people (<code>is_formal</code> refers to whether a connection between one person or another is formal or informal, i.e.&nbsp;colleagues or friends). The <code>\$</code> operator is a shortcut to get and set graph attributes. It is shorter and just as readable as <code>graph_attr</code> and <code>set_graph_attr</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">31</span>, <span class="dv">18</span>, <span class="dv">23</span>, <span class="dv">47</span>, <span class="dv">22</span>, <span class="dv">50</span>) </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH a6b771b UN-- 7 9 -- 
+ attr: name (v/c), age (v/n), gender (v/c), is_formal (e/l)</code></pre>
</div>
</div>
<p><code>V</code> and <code>E</code> are the standard way to obtain a sequence of all vertices and edges, respectively. This assigns an attribute to <em>all</em> vertices/edges at once. Another way to generate our social network is with the use of <code>set_vertex_attr</code> and <code>set_edge_attr</code> and the operator <code>%\&gt;%</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="sc">~</span> Alice<span class="sc">-</span>Bob<span class="sc">:</span>Claire<span class="sc">:</span>Frank, Claire<span class="sc">-</span>Alice<span class="sc">:</span>Dennis<span class="sc">:</span>Frank<span class="sc">:</span>Esther,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                George<span class="sc">-</span>Dennis<span class="sc">:</span>Frank, Dennis<span class="sc">-</span>Esther) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_vertex_attr</span>(<span class="st">"age"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">31</span>, <span class="dv">18</span>, <span class="dv">23</span>, <span class="dv">47</span>, <span class="dv">22</span>, <span class="dv">50</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_vertex_attr</span>(<span class="st">"gender"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_edge_attr</span>(<span class="st">"is_formal"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To assign or modify an attribute for a single vertex/edge:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE FALSE</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE FALSE</code></pre>
</div>
</div>
<p>Attribute values can be set to any R object, but note that storing the graph in some file formats might result in the loss of complex attribute values. Vertices, edges and the graph itself can all be used to set attributes, e.g.&nbsp;to add a date to the graph:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>g<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2022-02-11"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">graph_attr</span>(g, <span class="st">"date"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2022-02-11"</code></pre>
</div>
</div>
<p>To retrieve attributes, you can also use <code>graph_attr</code>, <code>vertex_attr</code>, and <code>edge_attr</code>. To find the ID of a vertex you can use the function <code>match</code>:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(<span class="fu">c</span>(<span class="st">"George"</span>), <span class="fu">V</span>(g)<span class="sc">$</span>name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>To assign attributes to a subset of vertices or edges, you can use:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>name[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Alejandra"</span>, <span class="st">"Bruno"</span>, <span class="st">"Carmina"</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 7/7 vertices, named, from a6b771b:
[1] Alejandra Bruno     Carmina   Frank     Dennis    Esther    George   </code></pre>
</div>
</div>
<p>To delete attributes:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">delete_vertex_attr</span>(g, <span class="st">"gender"</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>gender</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>If you want to save a graph in R with all the attributes use the R’s standard function <code>dput</code> function and retrieve it later with <code>dget</code>. You can also just save the R workspace and restore it later.</p>
</section>
<section id="structural-properties-of-graphs" class="level2">
<h2 class="anchored" data-anchor-id="structural-properties-of-graphs">Structural properties of graphs</h2>
<p><code>igraph</code> provides a large set of functions to calculate various structural properties of graphs. It is beyond the scope of this tutorial to document all of them, hence this section will only introduce a few of them for illustrative purposes. We will work on the small social network constructed in the previous section.</p>
<p>Perhaps the simplest property one can think of is the <em>degree</em>. The degree of a vertex equals the number of edges adjacent to it. In case of directed networks, we can also define <em>in-degree</em> (the number of edges pointing towards the vertex) and <em>out-degree</em> (the number of edges originating from the vertex). <code>igraph</code> is able to calculate all of them using a simple syntax:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Alejandra     Bruno   Carmina     Frank    Dennis    Esther    George 
        3         1         4         3         3         2         2 </code></pre>
</div>
</div>
<p>If the graph was directed, we would have been able to calculate the in- and out-degrees separately using <code>degree(mode="in")</code> and <code>degree(mode="out")</code>. You can also pass a single vertex ID or a list of vertex IDs to <code>degree</code> if you want to calculate the degrees for only a subset of vertices:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>George 
     2 </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="at">v=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Carmina   Frank  Dennis 
      4       3       3 </code></pre>
</div>
</div>
<p>Most functions that accept vertex IDs also accept vertex <em>names</em> (i.e.&nbsp;the values of the <code>name</code> vertex attribute) as long as the names are unique:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="at">v=</span><span class="fu">c</span>(<span class="st">"Carmina"</span>, <span class="st">"Frank"</span>, <span class="st">"Dennis"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Carmina   Frank  Dennis 
      4       3       3 </code></pre>
</div>
</div>
<p>It also works for single vertices:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="st">"Bruno"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Bruno 
    1 </code></pre>
</div>
</div>
<p>A similar syntax is used for most of the structural properties <code>igraph</code> can calculate. For vertex properties, the functions accept a vertex ID, a vertex name, or a list of vertex IDs or names (and if they are omitted, the default is the set of all vertices). For edge properties, the functions accept a single edge ID or a list of edge IDs.</p>
<hr>
<p><strong>NOTE:</strong> For some measures, it does not make sense to calculate them only for a few vertices or edges instead of the whole graph, as it would take the same time anyway. In this case, the functions won’t accept vertex or edge IDs, but you can still restrict the resulting list later using standard operations. One such example is eigenvector centrality (<code>evcent()</code>).</p>
<hr>
<p>Besides degree, igraph includes built-in routines to calculate many other centrality properties, including vertex and edge betweenness (<code>edge_betweenness</code>) or Google’s PageRank (<code>page_rank</code>) just to name a few. Here we just illustrate edge betweenness:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">edge_betweenness</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6 6 4 3 4 4 4 2 3</code></pre>
</div>
</div>
<p>Now we can also figure out which connections have the highest betweenness centrality:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>ebs <span class="ot">&lt;-</span> <span class="fu">edge_betweenness</span>(g)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as_edgelist</span>(g)[ebs <span class="sc">==</span> <span class="fu">max</span>(ebs), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]        [,2]     
[1,] "Alejandra" "Bruno"  
[2,] "Alejandra" "Carmina"</code></pre>
</div>
</div>
</section>
<section id="querying-vertices-and-edges-based-on-attributes" class="level2">
<h2 class="anchored" data-anchor-id="querying-vertices-and-edges-based-on-attributes">Querying vertices and edges based on attributes</h2>
<section id="selecting-vertices" class="level3">
<h3 class="anchored" data-anchor-id="selecting-vertices">Selecting vertices</h3>
<p>Imagine that in a given social network, you want to find out who has the largest degree. You can do that with the tools presented so far and the <code>which.max</code> function:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(<span class="fu">degree</span>(g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Carmina 
      3 </code></pre>
</div>
</div>
<p>Another example would be to select only vertices that have only odd IDs but not even ones, using the <code>V</code> function:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> <span class="fu">graph.full</span>(<span class="at">n=</span><span class="dv">10</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>only_odd_vertices <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(graph)<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(only_odd_vertices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>Of course, it is possible to select vertices or edges by positional indices:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>seq <span class="ot">&lt;-</span> <span class="fu">V</span>(graph)[<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>]</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>seq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 3/10 vertices, from 5faa7e6:
[1] 2 3 7</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>seq <span class="ot">&lt;-</span> seq[<span class="dv">1</span>, <span class="dv">3</span>]    <span class="co"># filtering an existing vertex set</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>seq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 2/10 vertices, from 5faa7e6:
[1] 2 7</code></pre>
</div>
</div>
<p>Selecting a vertex that does not exist results in an error:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>seq <span class="ot">&lt;-</span> <span class="fu">V</span>(graph)[<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="st">"foo"</span>, <span class="fl">3.5</span>]</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in simple_vs_index(x, ii, na_ok) : Unknown vertex selected</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Attribute names can also be used as-is within the indexing brackets of <code>V()</code> and <code>E()</code>. This can be combined with R’s ability to use boolean vectors for indexing to obtain very concise and readable expressions to retrieve a subset of the vertex or edge set of a graph. For instance, the following command gives you the names of the individuals younger than 30 years in our social network:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)[age <span class="sc">&lt;</span> <span class="dv">30</span>]<span class="sc">$</span>name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Alejandra" "Carmina"   "Frank"     "Esther"   </code></pre>
</div>
</div>
<p>Of course, <code>&lt;</code> is not the only boolean operator that can be used for this. Other possibilities include the following:</p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>The attribute/property value must be <em>equal to</em></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>The attribute/property value must <em>not be equal to</em></td>
</tr>
<tr class="odd">
<td><code>&lt;</code></td>
<td>The attribute/property value must be <em>less than</em></td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>The attribute/property value must be <em>less than or equal to</em></td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>The attribute/property value must be <em>greater than</em></td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>The attribute/property value must be <em>greater than or equal to</em></td>
</tr>
<tr class="odd">
<td><code>%in%</code></td>
<td>The attribute/property value must be <em>included in</em></td>
</tr>
</tbody>
</table>
<p>You can also create a “not in” operator from <code>%in%</code> using the <code>Negate</code> function:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%notin%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">Negate</span>(<span class="st">`</span><span class="at">%in%</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>If an attribute has the same name as an <code>igraph</code> function, you should be careful as the syntax can become a little confusing. For instance, if there is an attribute named <code>degree</code> that represents the grades of an exam for each person, that should not be confused with the <code>igraph</code> function that computes the degrees of vertices in a network sense:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B+"</span>, <span class="st">"A+"</span>, <span class="st">"C"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>degree[<span class="fu">degree</span>(g) <span class="sc">==</span> <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A"  "A+" "C" </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>name[<span class="fu">degree</span>(g) <span class="sc">==</span> <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Alejandra" "Frank"     "Dennis"   </code></pre>
</div>
</div>
</section>
<section id="selecting-edges" class="level3">
<h3 class="anchored" data-anchor-id="selecting-edges">Selecting edges</h3>
<p>Edges can be selected based on attributes just like vertices. As mentioned above, the standard way to get edges is <code>E</code>. Moreover, there are a few special structural properties for selecting edges.</p>
<p>Using <code>.from</code> allows you to filter the edge sequence based on the source vertices of the edges. E.g., to select all the edges originating from Carmina (who has vertex index 3):</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)[<span class="fu">.from</span>(<span class="dv">3</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 4/9 edges from a6b771b (vertex names):
[1] Alejandra--Carmina Carmina  --Frank   Carmina  --Dennis  Carmina  --Esther </code></pre>
</div>
</div>
<p>Of course it also works with vertex names:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)[<span class="fu">.from</span>(<span class="st">"Carmina"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 4/9 edges from a6b771b (vertex names):
[1] Alejandra--Carmina Carmina  --Frank   Carmina  --Dennis  Carmina  --Esther </code></pre>
</div>
</div>
<p>Using <code>.to</code> filters edge sequences based on the target vertices. This is different from <code>.from</code> if the graph is directed, while it gives the same answer for undirected graphs. Using <code>.inc</code> selects only those edges that are incident on a single vertex or at least one of the vertices, irrespectively of the edge directions.</p>
<p>The <code>%--%</code> operator can be used to select edges between specific groups of vertices, ignoring edge directions in directed graphs. For instance, the following expression selects all the edges between Carmina (vertex index 3), Dennis (vertex index 5) and Esther (vertex index 6):</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g) [ <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">%--%</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span> ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 3/9 edges from a6b771b (vertex names):
[1] Carmina--Dennis Carmina--Esther Dennis --Esther</code></pre>
</div>
</div>
<p>To make the <code>%--%</code> operator work with names, you can build string vectors containing the names and then use these vectors as operands. For instance, to select all the edges that connect men to women, we can do the following after re-adding the gender attribute that we deleted earlier:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>men <span class="ot">&lt;-</span> <span class="fu">V</span>(g)[gender <span class="sc">==</span> <span class="st">"m"</span>]<span class="sc">$</span>name</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>men</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Bruno"  "Frank"  "Dennis" "George"</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>women <span class="ot">&lt;-</span> <span class="fu">V</span>(g)[gender <span class="sc">==</span> <span class="st">"f"</span>]<span class="sc">$</span>name</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>women</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Alejandra" "Carmina"   "Esther"   </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)[men <span class="sc">%--%</span> women]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>+ 5/9 edges from a6b771b (vertex names):
[1] Alejandra--Bruno  Alejandra--Frank  Carmina  --Frank  Carmina  --Dennis
[5] Dennis   --Esther</code></pre>
</div>
</div>
</section>
</section>
<section id="treating-a-graph-as-an-adjacency-matrix" class="level2">
<h2 class="anchored" data-anchor-id="treating-a-graph-as-an-adjacency-matrix">Treating a graph as an adjacency matrix</h2>
<p>The adjacency matrix is another way to represent a graph. In an adjacency matrix, rows and columns are labeled by graph vertices, and the elements of the matrix indicate the number of edges between vertices <em>i</em> and <em>j</em>. The adjacency matrix for the example graph is:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get.adjacency</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>7 x 7 sparse Matrix of class "dgCMatrix"
          Alejandra Bruno Carmina Frank Dennis Esther George
Alejandra         .     1       1     1      .      .      .
Bruno             1     .       .     .      .      .      .
Carmina           1     .       .     1      1      1      .
Frank             1     .       1     .      .      .      1
Dennis            .     .       1     .      .      1      1
Esther            .     .       1     .      1      .      .
George            .     .       .     1      1      .      .</code></pre>
</div>
</div>
<p>For example, Carmina (<code>1, 0, 0, 1, 1, 1, 0</code>) is directly connected to Alejandra (who has vertex index 1), Frank (index 4), Dennis (index 5) and Esther (index 6), but not to Bruno (index 2) or to George (index 7).</p>
</section>
<section id="layouts-and-plotting" class="level2">
<h2 class="anchored" data-anchor-id="layouts-and-plotting">Layouts and plotting</h2>
<p>A graph is an abstract mathematical object without a specific representation in 2D, 3D or any other geometric space. This means that whenever we want to visualise a graph, we have to find a mapping from vertices to coordinates in two- or three-dimensional space first, preferably in a way that is useful and/or pleasing for the eye. A separate branch of graph theory, namely graph drawing, tries to solve this problem via several graph layout algorithms. igraph implements quite a few layout algorithms and is also able to draw them onto the screen or to any output format that R itself supports.</p>
<section id="layout-algorithms" class="level3">
<h3 class="anchored" data-anchor-id="layout-algorithms">Layout algorithms</h3>
<p>The layout functions in igraph always start with <code>layout</code>. The following table summarises them:</p>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 76%">
</colgroup>
<thead>
<tr class="header">
<th>Method name</th>
<th>Algorithm description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>layout_randomly</code></td>
<td>Places the vertices completely randomly</td>
</tr>
<tr class="even">
<td><code>layout_in_circle</code></td>
<td>Deterministic layout that places the vertices on a circle</td>
</tr>
<tr class="odd">
<td><code>layout_on_sphere</code></td>
<td>Deterministic layout that places the vertices evenly on the surface of a sphere</td>
</tr>
<tr class="even">
<td><code>layout_with_drl</code></td>
<td>The Drl (Distributed Recursive Layout) algorithm for large graphs</td>
</tr>
<tr class="odd">
<td><code>layout_with_fr</code></td>
<td>Fruchterman-Reingold force-directed algorithm</td>
</tr>
<tr class="even">
<td><code>layout_with_kk</code></td>
<td>Kamada-Kawai force-directed algorithm</td>
</tr>
<tr class="odd">
<td><code>layout_with_lgl</code></td>
<td>The LGL (Large Graph Layout) algorithm for large graphs</td>
</tr>
<tr class="even">
<td><code>layout_as_tree</code></td>
<td>Reingold-Tilford tree layout, useful for (almost) tree-like graphs</td>
</tr>
<tr class="odd">
<td><code>layout_nicely</code></td>
<td>Layout algorithm that automatically picks one of the other algorithms based on certain properties of the graph</td>
</tr>
</tbody>
</table>
<p>Layout algorithms can be called directly with a graph as its first argument. They will return a matrix with two columns and as many rows as the number of vertices in the graph; each row will correspond to the position of a single vertex, ordered by vertex IDs. Some algorithms have a 3D variant; in this case they return three columns instead of 2.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Some layout algorithms take additional arguments; e.g., when laying out a graph as a tree, it might make sense to specify which vertex is to be placed at the root of the layout:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_as_tree</span>(g, <span class="at">root =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="drawing-a-graph-using-a-layout" class="level3">
<h3 class="anchored" data-anchor-id="drawing-a-graph-using-a-layout">Drawing a graph using a layout</h3>
<p>We can plot our imaginary social network with the Kamada-Kawai layout algorithm as follows:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout =</span> layout, <span class="at">main =</span> <span class="st">"Social network with the Kamada-Kawai layout algorithm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This should open a new window showing a visual representation of the network. Remember that the exact placement of nodes may be different on your machine since the layout is not deterministic.</p>
<p>The <code>layout</code> argument also accepts functions; in this case, the function will be called with the graph as its first argument. This makes it possible to just pass the name of a layout function directly, without creating a layout variable:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout =</span> layout_with_fr,</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Social network with the Fruchterman-Reingold layout algorithm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To improve the visuals, a trivial addition would be to color the vertices according to the gender. We should also try to place the labels slightly outside the vertices to improve readability:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"m"</span>, <span class="st">"yellow"</span>, <span class="st">"red"</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout =</span> layout, <span class="at">vertex.label.dist =</span> <span class="fl">3.5</span>,</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Social network - with genders as colors"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You can also treat the <code>gender</code> attribute as a factor and provide the colors with an argument to <code>plot()</code>, which takes precedence over the <code>color</code> vertex attribute. Colors will be assigned automatically to levels of a factor:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout=</span>layout, <span class="at">vertex.label.dist=</span><span class="fl">3.5</span>, <span class="at">vertex.color=</span><span class="fu">as.factor</span>(<span class="fu">V</span>(g)<span class="sc">$</span>gender))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As seen above with the <code>vertex.color</code> argument, you can specify visual properties as arguments to <code>plot</code> instead of using vertex or edge attributes. The following plot shows the formal ties with thick lines while informal ones with thin lines:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout=</span>layout, <span class="at">vertex.label.dist=</span><span class="fl">3.5</span>, <span class="at">vertex.size=</span><span class="dv">20</span>,</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color=</span><span class="fu">ifelse</span>(<span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"m"</span>, <span class="st">"yellow"</span>, <span class="st">"red"</span>),</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.width=</span><span class="fu">ifelse</span>(<span class="fu">E</span>(g)<span class="sc">$</span>is_formal, <span class="dv">5</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This latter approach is preferred if you want to keep the properties of the visual representation of your graph separate from the graph itself.</p>
<p>In summary, there are special vertex and edge properties that correspond to the visual representation of the graph. These attributes override the default settings of igraph (i.e color, weight, name, shape,layout,etc.). The following two tables summarise the most frequently used visual attributes for vertices and edges, respectively:</p>
</section>
<section id="vertex-attributes-controlling-graph-plots" class="level3">
<h3 class="anchored" data-anchor-id="vertex-attributes-controlling-graph-plots">Vertex attributes controlling graph plots</h3>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 30%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th>Attribute name</th>
<th>Keyword argument</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td><code>vertex.color</code></td>
<td>Color of the vertex</td>
</tr>
<tr class="even">
<td><code>label</code></td>
<td><code>vertex.label</code></td>
<td>Label of the vertex. They will be converted to character. Specify NA to omit vertex labels. The default vertex labels are the vertex ids.</td>
</tr>
<tr class="odd">
<td><code>label.cex</code></td>
<td><code>vertex.label.cex</code></td>
<td>Font size of the vertex label, interpreted as a multiplicative factor, similarly to R’s <code>text</code> function</td>
</tr>
<tr class="even">
<td><code>label.color</code></td>
<td><code>vertex.label.color</code></td>
<td>Color of the vertex label</td>
</tr>
<tr class="odd">
<td><code>label.degree</code></td>
<td><code>vertex.label.degree</code></td>
<td>It defines the position of the vertex labels, relative to the center of the vertices. It is interpreted as an angle in radian, zero means ‘to the right’, and ‘pi’ means to the left, up is -pi/2 and down is pi/2. The default value is -pi/4</td>
</tr>
<tr class="even">
<td><code>label.dist</code></td>
<td><code>vertex.label.dist</code></td>
<td>Distance of the vertex label from the vertex itself, relative to the vertex size</td>
</tr>
<tr class="odd">
<td><code>label.family</code></td>
<td><code>vertex.label.family</code></td>
<td>Font family of the vertex, similarly to R’s <code>text</code> function</td>
</tr>
<tr class="even">
<td><code>label.font</code></td>
<td><code>vertex.label.font</code></td>
<td>Font within the font family of the vertex, similarly to R’s <code>text</code> function</td>
</tr>
<tr class="odd">
<td><code>shape</code></td>
<td><code>vertex.shape</code></td>
<td>The shape of the vertex, currently “circle”, “square”, “csquare”, “rectangle”, “crectangle”, “vrectangle”, “pie” (see vertex.shape.pie), ‘sphere’, and “none” are supported, and only by the plot.igraph command.</td>
</tr>
<tr class="even">
<td><code>size</code></td>
<td><code>vertex.size</code></td>
<td>The size of the vertex, a numeric scalar or vector, in the latter case each vertex sizes may differ</td>
</tr>
</tbody>
</table>
</section>
<section id="edge-attributes-controlling-graph-plots" class="level3">
<h3 class="anchored" data-anchor-id="edge-attributes-controlling-graph-plots">Edge attributes controlling graph plots</h3>
<table class="table">
<colgroup>
<col style="width: 34%">
<col style="width: 39%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>Attribute name</th>
<th>Keyword argument</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td><code>edge.color</code></td>
<td>Color of the edge</td>
</tr>
<tr class="even">
<td><code>curved</code></td>
<td><code>edge.curved</code></td>
<td>A numeric value specifies the curvature of the edge; zero curvature means straight edges, negative values means the edge bends clockwise, positive values the opposite. TRUE means curvature 0.5, FALSE means curvature zero</td>
</tr>
<tr class="odd">
<td><code>arrow.size</code></td>
<td><code>edge.arrow.size</code></td>
<td>Currently this is a constant, so it is the same for every edge. If a vector is submitted then only the first element is used, ie. if this is taken from an edge attribute then only the attribute of the first edge is used for all arrows.</td>
</tr>
<tr class="even">
<td><code>arrow.width</code></td>
<td><code>edge.arrow.width</code></td>
<td>The width of the arrows. Currently this is a constant, so it is the same for every edge</td>
</tr>
<tr class="odd">
<td><code>width</code></td>
<td><code>edge.width</code></td>
<td>Width of the edge in pixels</td>
</tr>
<tr class="even">
<td><code>label</code></td>
<td><code>edge.label</code></td>
<td>If specified, it adds a label to the edge.</td>
</tr>
<tr class="odd">
<td><code>label.cex</code></td>
<td><code>edge.label.cex</code></td>
<td>Font size of the edge label, interpreted as a multiplicative factor, similarly to R’s <code>text</code> function</td>
</tr>
<tr class="even">
<td><code>label.color</code></td>
<td><code>edge.label.color</code></td>
<td>Color of the edge label</td>
</tr>
<tr class="odd">
<td><code>label.family</code></td>
<td><code>edge.label.family</code></td>
<td>Font family of the edge, similarly to R’s <code>text</code> function</td>
</tr>
<tr class="even">
<td><code>label.font</code></td>
<td><code>edge.label.font</code></td>
<td>Font within the font family of the edge, similarly to R’s <code>text</code> function</td>
</tr>
</tbody>
</table>
</section>
<section id="generic-arguments-of-plot" class="level3">
<h3 class="anchored" data-anchor-id="generic-arguments-of-plot">Generic arguments of <code>plot()</code></h3>
<p>These settings can be specified as arguments to the <code>plot</code> function to control the overall appearance of the plot.</p>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Keyword argument</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>layout</code></td>
<td>The layout to be used. It can be an instance of <code>Layout</code>, a list of tuples containing X-Y coordinates, or the name of a layout algorithm. The default is <code>auto</code>, which selects a layout algorithm automatically based on the size and connectedness of the graph.</td>
</tr>
<tr class="even">
<td><code>margin</code></td>
<td>The amount of empty space below, over, at the left and right of the plot, it is a numeric vector of length four.</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="igraph-and-the-outside-world" class="level2">
<h2 class="anchored" data-anchor-id="igraph-and-the-outside-world">igraph and the outside world</h2>
<p>No graph module would be complete without some kind of import/export functionality that enables the package to communicate with external programs and toolkits. <code>igraph</code> is no exception: it provides functions to read the most common graph formats and to save graphs into files obeying these format specifications. The main functions for reading and writing from/to file are <code>read_graph</code> and <code>write_graph</code>, respectively. The following table summarises the formats igraph can read or write:</p>
<table class="table">
<thead>
<tr class="header">
<th>Format</th>
<th>Short name</th>
<th>Read function</th>
<th>Write function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Adjacency list (a.k.a. <a href="https://lgl.sourceforge.net/#FileFormat">LGL</a>)</td>
<td><code>lgl</code></td>
<td><code>read_graph(file, format = c("lgl"))</code></td>
<td><code>write_graph(graph, file, format = c("lgl"))</code></td>
</tr>
<tr class="even">
<td>Adjacency matrix</td>
<td><code>adjacency</code></td>
<td><code>graph_from_adjacency_matrix(adjmatrix, mode = c("directed", "undirected", "max", "min", "upper","lower", "plus"), weighted = NULL, diag = TRUE, add.colnames = NULL, add.rownames = NA)</code></td>
<td><code>as.matrix(graph, "adjacency")</code></td>
</tr>
<tr class="odd">
<td>DIMACS</td>
<td><code>dimacs</code></td>
<td><code>read_graph(file, format = c("dimacs"))</code></td>
<td><code>write_graph(graph, file, format = c("dimacs"))</code></td>
</tr>
<tr class="even">
<td>Edge list</td>
<td><code>edgelist</code></td>
<td><code>read_graph(file, format = c("edgelist"))</code></td>
<td><code>write_graph(graph, file, format = c("edgelist"))</code></td>
</tr>
<tr class="odd">
<td><a href="https://www.graphviz.org">GraphViz</a></td>
<td><code>dot</code></td>
<td>not supported yet</td>
<td><code>write_graph(graph, file, formati = c("dot"))</code></td>
</tr>
<tr class="even">
<td>GML</td>
<td><code>gml</code></td>
<td><code>read_graph(file, format = c("gml"))</code></td>
<td><code>write_graph(graph, file, format = c("gml"))</code></td>
</tr>
<tr class="odd">
<td>GraphML</td>
<td><code>graphml</code></td>
<td><code>read_graph(file, format = c("graphml"))</code></td>
<td><code>write_graph(graph, file, format = c("graphml"))</code></td>
</tr>
<tr class="even">
<td>LEDA</td>
<td><code>leda</code></td>
<td>not supported yet</td>
<td><code>write_graph(graph, file, format = c("leda"))</code></td>
</tr>
<tr class="odd">
<td>Labeled edgelist (a.k.a. <a href="https://lgl.sourceforge.net/#FileFormat">NCOL</a>)</td>
<td><code>ncol</code></td>
<td><code>read_graph(file, format = c("ncol"))</code></td>
<td><code>write_graph(graph, file, format = c("ncol"))</code></td>
</tr>
<tr class="even">
<td><a href="http://mrvar.fdv.uni-lj.si/pajek/">Pajek</a> format</td>
<td><code>pajek</code></td>
<td><code>read_graph(file, format = c("pajek"))</code></td>
<td><code>write_graph(graph, file, format = c("pajek"))</code></td>
</tr>
</tbody>
</table>
<hr>
<p><strong>NOTE:</strong> Each file format has its own limitations. For instance, not all of them can store attributes. Your best bet is probably GraphML or GML if you want to save igraph graphs in a format that can be read from an external package and you want to preserve numeric and string attributes. Edge list and NCOL is also fine if you don’t have attributes (NCOL supports vertex names and edge weights, though).</p>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb107" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Practice with Network Data"</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Nodes and Links and edges and vertices..."</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: false</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="co">    echo: true</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Barrie Robison"</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2023-04-19"</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [Portfolio, DataViz, Network, iGraph, Assignment]</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a><span class="an">image:</span><span class="co"> "Rlyeh.png"</span></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "iGRAPH!"</span></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb107-15"><a href="#cb107-15" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb107-16"><a href="#cb107-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-17"><a href="#cb107-17" aria-hidden="true" tabindex="-1"></a><span class="fu"># OVERVIEW</span></span>
<span id="cb107-18"><a href="#cb107-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-19"><a href="#cb107-19" aria-hidden="true" tabindex="-1"></a>In this assignment, we'll consider some of the tools and techniques for visualizing network data. Network data is characterized by two unique items that are not found in tabular or spatial data - Nodes and Links. In addition, there is a sub-type of network data that we will consider - Hierarchical or Tree data. Let's practice a few visualizations to get a feel for how these things work!</span>
<span id="cb107-20"><a href="#cb107-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-21"><a href="#cb107-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># NETWORK BASICS!</span></span>
<span id="cb107-22"><a href="#cb107-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-23"><a href="#cb107-23" aria-hidden="true" tabindex="-1"></a>In class we talked about the strong possibility that each of you will encounter network data in your research. These data could be describing lots of different things in biologicial syste,s, from gene or protein expression networks, to hierarchical representations of ontologies, to phylogenetic trees. In geology and geoinformatics, network data would be used to describe the co-occurence of mineral species, or even knowledge graphs and other information representations.</span>
<span id="cb107-24"><a href="#cb107-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-25"><a href="#cb107-25" aria-hidden="true" tabindex="-1"></a><span class="fu">## IGRAPH</span></span>
<span id="cb107-26"><a href="#cb107-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-27"><a href="#cb107-27" aria-hidden="true" tabindex="-1"></a>Let's start with <span class="co">[</span><span class="ot">igraph</span><span class="co">](https://igraph.org)</span>, which is an open source toolset for network analysis. The great thing about igraph is that you can use these tools in R, Python, Mathematica, and C++. It is very flexible and very powerful.</span>
<span id="cb107-28"><a href="#cb107-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-29"><a href="#cb107-29" aria-hidden="true" tabindex="-1"></a><span class="fu">### igraph in R</span></span>
<span id="cb107-30"><a href="#cb107-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-31"><a href="#cb107-31" aria-hidden="true" tabindex="-1"></a>First up, we'll install R/igraph and load the library (note that I've commented out the package installation because I've already installed igraph on my machine):</span>
<span id="cb107-32"><a href="#cb107-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-35"><a href="#cb107-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-36"><a href="#cb107-36" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("igraph")</span></span>
<span id="cb107-37"><a href="#cb107-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb107-38"><a href="#cb107-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-39"><a href="#cb107-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-40"><a href="#cb107-40" aria-hidden="true" tabindex="-1"></a>Now I'm going to walk you through a modified version of the igraph tutorial, which you can find <span class="co">[</span><span class="ot">here</span><span class="co">](https://r.igraph.org/articles/igraph.html)</span></span>
<span id="cb107-41"><a href="#cb107-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-42"><a href="#cb107-42" aria-hidden="true" tabindex="-1"></a><span class="fu">## Creating a graph</span></span>
<span id="cb107-43"><a href="#cb107-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-44"><a href="#cb107-44" aria-hidden="true" tabindex="-1"></a><span class="in">`igraph`</span> offers many ways to create a graph. The simplest one is the function <span class="in">`make_empty_graph`</span>:</span>
<span id="cb107-45"><a href="#cb107-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-48"><a href="#cb107-48" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-49"><a href="#cb107-49" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_empty_graph</span>()</span>
<span id="cb107-50"><a href="#cb107-50" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-51"><a href="#cb107-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-52"><a href="#cb107-52" aria-hidden="true" tabindex="-1"></a>The most common way to create a graph is <span class="in">`make_graph`</span>, which constructs a network based on specified edges. For example, to make a graph with 10 nodes (numbered <span class="in">`1`</span> to <span class="in">`10`</span>) and two edges connecting nodes <span class="in">`1-2`</span> and <span class="in">`1-5`</span>:</span>
<span id="cb107-53"><a href="#cb107-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-56"><a href="#cb107-56" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-57"><a href="#cb107-57" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="at">edges =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">1</span>,<span class="dv">5</span>), <span class="at">n=</span><span class="dv">10</span>, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb107-58"><a href="#cb107-58" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-59"><a href="#cb107-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-60"><a href="#cb107-60" aria-hidden="true" tabindex="-1"></a>We can print the graph to get a summary of its nodes and edges:</span>
<span id="cb107-61"><a href="#cb107-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-62"><a href="#cb107-62" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-63"><a href="#cb107-63" aria-hidden="true" tabindex="-1"></a>g</span>
<span id="cb107-64"><a href="#cb107-64" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-65"><a href="#cb107-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-66"><a href="#cb107-66" aria-hidden="true" tabindex="-1"></a>This means: **U**ndirected **N**amed graph with **10** vertices and **2** edges, with the exact edges listed out. If the graph has a <span class="in">`[name]`</span> attribute, it is printed as well.</span>
<span id="cb107-67"><a href="#cb107-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-68"><a href="#cb107-68" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb107-69"><a href="#cb107-69" aria-hidden="true" tabindex="-1"></a><span class="in">`summary`</span> does not list the edges, which is convenient for large graphs with millions of edges:</span>
<span id="cb107-70"><a href="#cb107-70" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb107-71"><a href="#cb107-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-72"><a href="#cb107-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-73"><a href="#cb107-73" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-74"><a href="#cb107-74" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span>
<span id="cb107-75"><a href="#cb107-75" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-76"><a href="#cb107-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-77"><a href="#cb107-77" aria-hidden="true" tabindex="-1"></a>The same function <span class="in">`make_graph`</span> can create some notable graphs by just specifying their name. For example you can create the graph that represents the social network of Zachary's karate club, that shows the friendship between 34 members of a karate club at a US university in the 1970s:</span>
<span id="cb107-78"><a href="#cb107-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-79"><a href="#cb107-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-80"><a href="#cb107-80" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="st">'Zachary'</span>)</span>
<span id="cb107-81"><a href="#cb107-81" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-82"><a href="#cb107-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-83"><a href="#cb107-83" aria-hidden="true" tabindex="-1"></a>To visualize a graph you can use <span class="in">`plot`</span>:</span>
<span id="cb107-84"><a href="#cb107-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-87"><a href="#cb107-87" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-88"><a href="#cb107-88" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span>
<span id="cb107-89"><a href="#cb107-89" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-90"><a href="#cb107-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-91"><a href="#cb107-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-92"><a href="#cb107-92" aria-hidden="true" tabindex="-1"></a><span class="fu">## Vertex and edge IDs</span></span>
<span id="cb107-93"><a href="#cb107-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-94"><a href="#cb107-94" aria-hidden="true" tabindex="-1"></a>Vertices and edges have numerical vertex IDs in igraph. Vertex IDs are always consecutive and they start with 1. For a graph with n vertices the vertex IDs are always between 1 and n. If some operation changes the number of vertices in the graphs, e.g. a subgraph is created via <span class="in">`induced_subgraph`</span>, then the vertices are renumbered to satisfy this criterion.</span>
<span id="cb107-95"><a href="#cb107-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-96"><a href="#cb107-96" aria-hidden="true" tabindex="-1"></a>The same is true for the edges as well: edge IDs are always between 1 and m, the total number of edges in the graph.</span>
<span id="cb107-97"><a href="#cb107-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-98"><a href="#cb107-98" aria-hidden="true" tabindex="-1"></a>In addition to IDs, vertices and edges can be assigned a name and other attributes. That makes it easier to track them whenever the graph is altered. </span>
<span id="cb107-99"><a href="#cb107-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-100"><a href="#cb107-100" aria-hidden="true" tabindex="-1"></a><span class="fu">## Adding/deleting vertices and edges</span></span>
<span id="cb107-101"><a href="#cb107-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-102"><a href="#cb107-102" aria-hidden="true" tabindex="-1"></a>Let's continue working with the Karate club graph. To add one or more vertices to an existing graph, use <span class="in">`add_vertices`</span>:</span>
<span id="cb107-103"><a href="#cb107-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-106"><a href="#cb107-106" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-107"><a href="#cb107-107" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">add_vertices</span>(g, <span class="dv">3</span>)</span>
<span id="cb107-108"><a href="#cb107-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-109"><a href="#cb107-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-110"><a href="#cb107-110" aria-hidden="true" tabindex="-1"></a>Similarly, to add edges you can use <span class="in">`add_edges`</span>:</span>
<span id="cb107-111"><a href="#cb107-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-114"><a href="#cb107-114" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-115"><a href="#cb107-115" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">add_edges</span>(g, <span class="at">edges =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">35</span>, <span class="dv">1</span>,<span class="dv">36</span>, <span class="dv">34</span>,<span class="dv">37</span>))</span>
<span id="cb107-116"><a href="#cb107-116" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-117"><a href="#cb107-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-118"><a href="#cb107-118" aria-hidden="true" tabindex="-1"></a>Edges are added by specifying the source and target vertex IDs for each edge. This call added three edges, one connecting vertices <span class="in">`1`</span> and <span class="in">`35`</span>, one connecting vertices <span class="in">`1`</span> and <span class="in">`36`</span>, and one connecting vertices <span class="in">`34`</span> and <span class="in">`37`</span>.</span>
<span id="cb107-119"><a href="#cb107-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-120"><a href="#cb107-120" aria-hidden="true" tabindex="-1"></a>In addition to the <span class="in">`add_vertices`</span> and <span class="in">`add_edges`</span> functions, the plus operator can be used to add vertices or edges to graph. The actual operation that is performed depends on the type of the right hand side argument:</span>
<span id="cb107-121"><a href="#cb107-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-122"><a href="#cb107-122" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE, eval=FALSE}</span></span>
<span id="cb107-123"><a href="#cb107-123" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> g <span class="sc">+</span> <span class="fu">edges</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">35</span>, <span class="dv">1</span>,<span class="dv">36</span>, <span class="dv">34</span>,<span class="dv">37</span>))</span>
<span id="cb107-124"><a href="#cb107-124" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-125"><a href="#cb107-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-126"><a href="#cb107-126" aria-hidden="true" tabindex="-1"></a>You can add a single vertex/edge at a time using <span class="in">`add_vertex`</span> and <span class="in">`add_edge`</span>.</span>
<span id="cb107-127"><a href="#cb107-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-128"><a href="#cb107-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-129"><a href="#cb107-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-130"><a href="#cb107-130" aria-hidden="true" tabindex="-1"></a>Let us add some more vertices and edges to our graph. In <span class="in">`igraph`</span> we can use the <span class="in">`magrittr`</span> package, which provides a mechanism for chaining commands with the operator <span class="in">`%\&gt;%`</span>:</span>
<span id="cb107-131"><a href="#cb107-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-132"><a href="#cb107-132" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-133"><a href="#cb107-133" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> g <span class="sc">%&gt;%</span> <span class="fu">add_edges</span>(<span class="at">edges=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">34</span>)) <span class="sc">%&gt;%</span> <span class="fu">add_vertices</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb107-134"><a href="#cb107-134" aria-hidden="true" tabindex="-1"></a>     <span class="fu">add_edges</span>(<span class="at">edges=</span><span class="fu">c</span>(<span class="dv">38</span>,<span class="dv">39</span>, <span class="dv">39</span>,<span class="dv">40</span>, <span class="dv">40</span>,<span class="dv">38</span>, <span class="dv">40</span>,<span class="dv">37</span>))</span>
<span id="cb107-135"><a href="#cb107-135" aria-hidden="true" tabindex="-1"></a>g</span>
<span id="cb107-136"><a href="#cb107-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-137"><a href="#cb107-137" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span>
<span id="cb107-138"><a href="#cb107-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-139"><a href="#cb107-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-140"><a href="#cb107-140" aria-hidden="true" tabindex="-1"></a>We now have an undirected graph with 40 vertices and 86 edges. Vertex and edge IDs are always *contiguous*, so if you delete a vertex all subsequent vertices will be renumbered. When a vertex is renumbered, edges are **not** renumbered, but their source and target vertices will be. Use <span class="in">`delete_vertices`</span> and <span class="in">`delete_edges`</span> to perform these operations. For instance, to delete the edge connecting vertices <span class="in">`1-34`</span>, get its ID and then delete it:</span>
<span id="cb107-141"><a href="#cb107-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-142"><a href="#cb107-142" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-143"><a href="#cb107-143" aria-hidden="true" tabindex="-1"></a><span class="fu">get.edge.ids</span>(g, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">34</span>))</span>
<span id="cb107-144"><a href="#cb107-144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-145"><a href="#cb107-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-148"><a href="#cb107-148" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-149"><a href="#cb107-149" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">delete_edges</span>(g, <span class="dv">82</span>)</span>
<span id="cb107-150"><a href="#cb107-150" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-151"><a href="#cb107-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-152"><a href="#cb107-152" aria-hidden="true" tabindex="-1"></a>As an example, to create a broken ring:</span>
<span id="cb107-153"><a href="#cb107-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-154"><a href="#cb107-154" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-155"><a href="#cb107-155" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_ring</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">delete_edges</span>(<span class="st">"10|1"</span>)</span>
<span id="cb107-156"><a href="#cb107-156" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span>
<span id="cb107-157"><a href="#cb107-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-158"><a href="#cb107-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-159"><a href="#cb107-159" aria-hidden="true" tabindex="-1"></a>The example above shows that you can also refer to edges with strings containing the IDs of the source and target vertices, connected by a pipe symbol <span class="in">`|`</span>. <span class="in">`"10|1"`</span> in the above example means the edge that connects vertex 10 to vertex 1. Of course you can also use the edge IDs directly, or retrieve them with the <span class="in">`get.edge.ids`</span> function:</span>
<span id="cb107-160"><a href="#cb107-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-161"><a href="#cb107-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-162"><a href="#cb107-162" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_ring</span>(<span class="dv">5</span>)</span>
<span id="cb107-163"><a href="#cb107-163" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">delete_edges</span>(g, <span class="fu">get.edge.ids</span>(g, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>, <span class="dv">4</span>,<span class="dv">5</span>)))</span>
<span id="cb107-164"><a href="#cb107-164" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span>
<span id="cb107-165"><a href="#cb107-165" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-166"><a href="#cb107-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-167"><a href="#cb107-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-168"><a href="#cb107-168" aria-hidden="true" tabindex="-1"></a><span class="fu">## Constructing graphs</span></span>
<span id="cb107-169"><a href="#cb107-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-170"><a href="#cb107-170" aria-hidden="true" tabindex="-1"></a>In addition to <span class="in">`make_empty_graph`</span>, <span class="in">`make_graph`</span>, and <span class="in">`make_graph_from_literal`</span>, <span class="in">`igraph`</span> includes many other function to construct a graph. Some are *deterministic*, i.e. they produce the same graph each single time, e.g. <span class="in">`make_tree`</span>:</span>
<span id="cb107-171"><a href="#cb107-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-172"><a href="#cb107-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-173"><a href="#cb107-173" aria-hidden="true" tabindex="-1"></a>graph1 <span class="ot">&lt;-</span> <span class="fu">make_tree</span>(<span class="dv">127</span>, <span class="dv">2</span>, <span class="at">mode =</span> <span class="st">"undirected"</span>)</span>
<span id="cb107-174"><a href="#cb107-174" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span>
<span id="cb107-175"><a href="#cb107-175" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g)</span>
<span id="cb107-176"><a href="#cb107-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-177"><a href="#cb107-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-178"><a href="#cb107-178" aria-hidden="true" tabindex="-1"></a>This generates a regular tree graph with 127 vertices, each vertex having two children. No matter how many times you call <span class="in">`make_tree`</span>, the generated graph will always be the same if you use the same parameters:</span>
<span id="cb107-179"><a href="#cb107-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-182"><a href="#cb107-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-183"><a href="#cb107-183" aria-hidden="true" tabindex="-1"></a>graph2 <span class="ot">&lt;-</span> <span class="fu">make_tree</span>(<span class="dv">127</span>, <span class="dv">2</span>, <span class="at">mode =</span> <span class="st">"undirected"</span>)</span>
<span id="cb107-184"><a href="#cb107-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-185"><a href="#cb107-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-186"><a href="#cb107-186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-187"><a href="#cb107-187" aria-hidden="true" tabindex="-1"></a><span class="fu">identical_graphs</span>(graph1,graph2)</span>
<span id="cb107-188"><a href="#cb107-188" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-189"><a href="#cb107-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-190"><a href="#cb107-190" aria-hidden="true" tabindex="-1"></a>Other functions generate graphs *stochastically*, i.e. they produce a different graph each time. For instance <span class="in">`sample_grg`</span>:</span>
<span id="cb107-191"><a href="#cb107-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-192"><a href="#cb107-192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-193"><a href="#cb107-193" aria-hidden="true" tabindex="-1"></a>graph1 <span class="ot">&lt;-</span> <span class="fu">sample_grg</span>(<span class="dv">100</span>, <span class="fl">0.2</span>)</span>
<span id="cb107-194"><a href="#cb107-194" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(graph1)</span>
<span id="cb107-195"><a href="#cb107-195" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(graph1)</span>
<span id="cb107-196"><a href="#cb107-196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-197"><a href="#cb107-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-198"><a href="#cb107-198" aria-hidden="true" tabindex="-1"></a>This generates a geometric random graph: *n* points are chosen randomly and uniformly inside the unit square and pairs of points closer to each other than a predefined distance *d* are connected by an edge. If you generate GRGs with the same parameters, they will be different:</span>
<span id="cb107-199"><a href="#cb107-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-200"><a href="#cb107-200" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-201"><a href="#cb107-201" aria-hidden="true" tabindex="-1"></a>graph2 <span class="ot">&lt;-</span> <span class="fu">sample_grg</span>(<span class="dv">100</span>, <span class="fl">0.2</span>)</span>
<span id="cb107-202"><a href="#cb107-202" aria-hidden="true" tabindex="-1"></a><span class="fu">identical_graphs</span>(graph1, graph2)</span>
<span id="cb107-203"><a href="#cb107-203" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(graph2)</span>
<span id="cb107-204"><a href="#cb107-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-205"><a href="#cb107-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-206"><a href="#cb107-206" aria-hidden="true" tabindex="-1"></a>A slightly looser way to check if the graphs are equivalent is via <span class="in">`isomorphic`</span>. Two graphs are said to be isomorphic if they have the same number of components (vertices and edges) and maintain a one-to-one correspondence between vertices and edges, i.e., they are connected in the same way.</span>
<span id="cb107-207"><a href="#cb107-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-208"><a href="#cb107-208" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-209"><a href="#cb107-209" aria-hidden="true" tabindex="-1"></a><span class="fu">isomorphic</span>(graph1, graph2)</span>
<span id="cb107-210"><a href="#cb107-210" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-211"><a href="#cb107-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-212"><a href="#cb107-212" aria-hidden="true" tabindex="-1"></a>Checking for isomorphism can take a while for large graphs (in this case, the answer can quickly be given by checking the degree sequence of the two graphs). <span class="in">`identical_graph`</span> is a stricter criterion than <span class="in">`isomorphic`</span>: the two graphs must have the same list of vertices and edges, in exactly the same order, with same directedness, and the two graphs must also have identical graph, vertex and edge attributes.</span>
<span id="cb107-213"><a href="#cb107-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-214"><a href="#cb107-214" aria-hidden="true" tabindex="-1"></a><span class="fu">## Setting and retrieving attributes</span></span>
<span id="cb107-215"><a href="#cb107-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-216"><a href="#cb107-216" aria-hidden="true" tabindex="-1"></a>In addition to IDs, vertex and edges can have *attributes* such as a name, coordinates for plotting, metadata, and weights. The graph itself can have such attributes too (e.g. a name, which will show in <span class="in">`summary`</span>). In a sense, every graph, vertex and edge can be used as an R namespace to store and retrieve these attributes.</span>
<span id="cb107-217"><a href="#cb107-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-218"><a href="#cb107-218" aria-hidden="true" tabindex="-1"></a>To demonstrate the use of attributes, let us create a simple social network:</span>
<span id="cb107-219"><a href="#cb107-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-222"><a href="#cb107-222" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-223"><a href="#cb107-223" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="sc">~</span> Alice<span class="sc">-</span>Bob<span class="sc">:</span>Claire<span class="sc">:</span>Frank, Claire<span class="sc">-</span>Alice<span class="sc">:</span>Dennis<span class="sc">:</span>Frank<span class="sc">:</span>Esther,</span>
<span id="cb107-224"><a href="#cb107-224" aria-hidden="true" tabindex="-1"></a>                George<span class="sc">-</span>Dennis<span class="sc">:</span>Frank, Dennis<span class="sc">-</span>Esther)</span>
<span id="cb107-225"><a href="#cb107-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-226"><a href="#cb107-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-227"><a href="#cb107-227" aria-hidden="true" tabindex="-1"></a>Each vertex represents a person, so we want to store ages, genders and types of connection between two people (<span class="in">`is_formal`</span> refers to whether a connection between one person or another is formal or informal, i.e. colleagues or friends). The <span class="in">`\$`</span> operator is a shortcut to get and set graph attributes. It is shorter and just as readable as <span class="in">`graph_attr`</span> and <span class="in">`set_graph_attr`</span>.</span>
<span id="cb107-228"><a href="#cb107-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-229"><a href="#cb107-229" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-230"><a href="#cb107-230" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">31</span>, <span class="dv">18</span>, <span class="dv">23</span>, <span class="dv">47</span>, <span class="dv">22</span>, <span class="dv">50</span>) </span>
<span id="cb107-231"><a href="#cb107-231" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>)</span>
<span id="cb107-232"><a href="#cb107-232" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb107-233"><a href="#cb107-233" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span>
<span id="cb107-234"><a href="#cb107-234" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-235"><a href="#cb107-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-236"><a href="#cb107-236" aria-hidden="true" tabindex="-1"></a><span class="in">`V`</span> and <span class="in">`E`</span> are the standard way to obtain a sequence of all vertices and edges, respectively. This assigns an attribute to *all* vertices/edges at once. Another way to generate our social network is with the use of <span class="in">`set_vertex_attr`</span> and <span class="in">`set_edge_attr`</span> and the operator <span class="in">`%\&gt;%`</span>:</span>
<span id="cb107-237"><a href="#cb107-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-238"><a href="#cb107-238" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE, eval=FALSE}</span></span>
<span id="cb107-239"><a href="#cb107-239" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="sc">~</span> Alice<span class="sc">-</span>Bob<span class="sc">:</span>Claire<span class="sc">:</span>Frank, Claire<span class="sc">-</span>Alice<span class="sc">:</span>Dennis<span class="sc">:</span>Frank<span class="sc">:</span>Esther,</span>
<span id="cb107-240"><a href="#cb107-240" aria-hidden="true" tabindex="-1"></a>                George<span class="sc">-</span>Dennis<span class="sc">:</span>Frank, Dennis<span class="sc">-</span>Esther) <span class="sc">%&gt;%</span></span>
<span id="cb107-241"><a href="#cb107-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_vertex_attr</span>(<span class="st">"age"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">31</span>, <span class="dv">18</span>, <span class="dv">23</span>, <span class="dv">47</span>, <span class="dv">22</span>, <span class="dv">50</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb107-242"><a href="#cb107-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_vertex_attr</span>(<span class="st">"gender"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb107-243"><a href="#cb107-243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_edge_attr</span>(<span class="st">"is_formal"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb107-244"><a href="#cb107-244" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g)</span>
<span id="cb107-245"><a href="#cb107-245" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-246"><a href="#cb107-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-247"><a href="#cb107-247" aria-hidden="true" tabindex="-1"></a>To assign or modify an attribute for a single vertex/edge:</span>
<span id="cb107-248"><a href="#cb107-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-249"><a href="#cb107-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-250"><a href="#cb107-250" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal</span>
<span id="cb107-251"><a href="#cb107-251" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb107-252"><a href="#cb107-252" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>is_formal</span>
<span id="cb107-253"><a href="#cb107-253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-254"><a href="#cb107-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-255"><a href="#cb107-255" aria-hidden="true" tabindex="-1"></a>Attribute values can be set to any R object, but note that storing the graph in some file formats might result in the loss of complex attribute values. Vertices, edges and the graph itself can all be used to set attributes, e.g. to add a date to the graph:</span>
<span id="cb107-256"><a href="#cb107-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-257"><a href="#cb107-257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-258"><a href="#cb107-258" aria-hidden="true" tabindex="-1"></a>g<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2022-02-11"</span>)</span>
<span id="cb107-259"><a href="#cb107-259" aria-hidden="true" tabindex="-1"></a><span class="fu">graph_attr</span>(g, <span class="st">"date"</span>)</span>
<span id="cb107-260"><a href="#cb107-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-261"><a href="#cb107-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-262"><a href="#cb107-262" aria-hidden="true" tabindex="-1"></a>To retrieve attributes, you can also use <span class="in">`graph_attr`</span>, <span class="in">`vertex_attr`</span>, and <span class="in">`edge_attr`</span>. To find the ID of a vertex you can use the function <span class="in">`match`</span>:</span>
<span id="cb107-263"><a href="#cb107-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-264"><a href="#cb107-264" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-265"><a href="#cb107-265" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(<span class="fu">c</span>(<span class="st">"George"</span>), <span class="fu">V</span>(g)<span class="sc">$</span>name)</span>
<span id="cb107-266"><a href="#cb107-266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-267"><a href="#cb107-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-268"><a href="#cb107-268" aria-hidden="true" tabindex="-1"></a>To assign attributes to a subset of vertices or edges, you can use:</span>
<span id="cb107-269"><a href="#cb107-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-270"><a href="#cb107-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-271"><a href="#cb107-271" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>name[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Alejandra"</span>, <span class="st">"Bruno"</span>, <span class="st">"Carmina"</span>)</span>
<span id="cb107-272"><a href="#cb107-272" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)</span>
<span id="cb107-273"><a href="#cb107-273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-274"><a href="#cb107-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-275"><a href="#cb107-275" aria-hidden="true" tabindex="-1"></a>To delete attributes:</span>
<span id="cb107-276"><a href="#cb107-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-277"><a href="#cb107-277" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-278"><a href="#cb107-278" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">delete_vertex_attr</span>(g, <span class="st">"gender"</span>)</span>
<span id="cb107-279"><a href="#cb107-279" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>gender</span>
<span id="cb107-280"><a href="#cb107-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-281"><a href="#cb107-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-282"><a href="#cb107-282" aria-hidden="true" tabindex="-1"></a>If you want to save a graph in R with all the attributes use the R's standard function <span class="in">`dput`</span> function and retrieve it later with <span class="in">`dget`</span>. You can also just save the R workspace and restore it later.</span>
<span id="cb107-283"><a href="#cb107-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-284"><a href="#cb107-284" aria-hidden="true" tabindex="-1"></a><span class="fu">## Structural properties of graphs</span></span>
<span id="cb107-285"><a href="#cb107-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-286"><a href="#cb107-286" aria-hidden="true" tabindex="-1"></a><span class="in">`igraph`</span> provides a large set of functions to calculate various structural properties of graphs. It is beyond the scope of this tutorial to document all of them, hence this section will only introduce a few of them for illustrative purposes. We will work on the small social network constructed in the previous section.</span>
<span id="cb107-287"><a href="#cb107-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-288"><a href="#cb107-288" aria-hidden="true" tabindex="-1"></a>Perhaps the simplest property one can think of is the *degree*. The degree of a vertex equals the number of edges adjacent to it. In case of directed networks, we can also define *in-degree* (the number of edges pointing towards the vertex) and *out-degree* (the number of edges originating from the vertex). <span class="in">`igraph`</span> is able to calculate all of them using a simple syntax:</span>
<span id="cb107-289"><a href="#cb107-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-290"><a href="#cb107-290" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-291"><a href="#cb107-291" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g)</span>
<span id="cb107-292"><a href="#cb107-292" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-293"><a href="#cb107-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-294"><a href="#cb107-294" aria-hidden="true" tabindex="-1"></a>If the graph was directed, we would have been able to calculate the in- and out-degrees separately using <span class="in">`degree(mode="in")`</span> and <span class="in">`degree(mode="out")`</span>. You can also pass a single vertex ID or a list of vertex IDs to <span class="in">`degree`</span> if you want to calculate the degrees for only a subset of vertices:</span>
<span id="cb107-295"><a href="#cb107-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-296"><a href="#cb107-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-297"><a href="#cb107-297" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="dv">7</span>)</span>
<span id="cb107-298"><a href="#cb107-298" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-299"><a href="#cb107-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-300"><a href="#cb107-300" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-301"><a href="#cb107-301" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="at">v=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>))</span>
<span id="cb107-302"><a href="#cb107-302" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-303"><a href="#cb107-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-304"><a href="#cb107-304" aria-hidden="true" tabindex="-1"></a>Most functions that accept vertex IDs also accept vertex *names* (i.e. the values of the <span class="in">`name`</span> vertex attribute) as long as the names are unique:</span>
<span id="cb107-305"><a href="#cb107-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-306"><a href="#cb107-306" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-307"><a href="#cb107-307" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="at">v=</span><span class="fu">c</span>(<span class="st">"Carmina"</span>, <span class="st">"Frank"</span>, <span class="st">"Dennis"</span>))</span>
<span id="cb107-308"><a href="#cb107-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-309"><a href="#cb107-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-310"><a href="#cb107-310" aria-hidden="true" tabindex="-1"></a>It also works for single vertices:</span>
<span id="cb107-311"><a href="#cb107-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-312"><a href="#cb107-312" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-313"><a href="#cb107-313" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(g, <span class="st">"Bruno"</span>)</span>
<span id="cb107-314"><a href="#cb107-314" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-315"><a href="#cb107-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-316"><a href="#cb107-316" aria-hidden="true" tabindex="-1"></a>A similar syntax is used for most of the structural properties <span class="in">`igraph`</span> can calculate. For vertex properties, the functions accept a vertex ID, a vertex name, or a list of vertex IDs or names (and if they are omitted, the default is the set of all vertices). For edge properties, the functions accept a single edge ID or a list of edge IDs.</span>
<span id="cb107-317"><a href="#cb107-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-318"><a href="#cb107-318" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb107-319"><a href="#cb107-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-320"><a href="#cb107-320" aria-hidden="true" tabindex="-1"></a>**NOTE:** For some measures, it does not make sense to calculate them only for a few vertices or edges instead of the whole graph, as it would take the same time anyway. In this case, the functions won't accept vertex or edge IDs, but you can still restrict the resulting list later using standard operations. One such example is eigenvector centrality (<span class="in">`evcent()`</span>).</span>
<span id="cb107-321"><a href="#cb107-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-322"><a href="#cb107-322" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb107-323"><a href="#cb107-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-324"><a href="#cb107-324" aria-hidden="true" tabindex="-1"></a>Besides degree, igraph includes built-in routines to calculate many other centrality properties, including vertex and edge betweenness (<span class="in">`edge_betweenness`</span>) or Google's PageRank (<span class="in">`page_rank`</span>) just to name a few. Here we just illustrate edge betweenness:</span>
<span id="cb107-325"><a href="#cb107-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-326"><a href="#cb107-326" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-327"><a href="#cb107-327" aria-hidden="true" tabindex="-1"></a><span class="fu">edge_betweenness</span>(g)</span>
<span id="cb107-328"><a href="#cb107-328" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-329"><a href="#cb107-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-330"><a href="#cb107-330" aria-hidden="true" tabindex="-1"></a>Now we can also figure out which connections have the highest betweenness centrality:</span>
<span id="cb107-331"><a href="#cb107-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-332"><a href="#cb107-332" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-333"><a href="#cb107-333" aria-hidden="true" tabindex="-1"></a>ebs <span class="ot">&lt;-</span> <span class="fu">edge_betweenness</span>(g)</span>
<span id="cb107-334"><a href="#cb107-334" aria-hidden="true" tabindex="-1"></a><span class="fu">as_edgelist</span>(g)[ebs <span class="sc">==</span> <span class="fu">max</span>(ebs), ]</span>
<span id="cb107-335"><a href="#cb107-335" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-336"><a href="#cb107-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-337"><a href="#cb107-337" aria-hidden="true" tabindex="-1"></a><span class="fu">## Querying vertices and edges based on attributes</span></span>
<span id="cb107-338"><a href="#cb107-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-339"><a href="#cb107-339" aria-hidden="true" tabindex="-1"></a><span class="fu">### Selecting vertices</span></span>
<span id="cb107-340"><a href="#cb107-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-341"><a href="#cb107-341" aria-hidden="true" tabindex="-1"></a>Imagine that in a given social network, you want to find out who has the largest degree. You can do that with the tools presented so far and the <span class="in">`which.max`</span> function:</span>
<span id="cb107-342"><a href="#cb107-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-343"><a href="#cb107-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-344"><a href="#cb107-344" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(<span class="fu">degree</span>(g))</span>
<span id="cb107-345"><a href="#cb107-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-346"><a href="#cb107-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-347"><a href="#cb107-347" aria-hidden="true" tabindex="-1"></a>Another example would be to select only vertices that have only odd IDs but not even ones, using the <span class="in">`V`</span> function:</span>
<span id="cb107-348"><a href="#cb107-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-349"><a href="#cb107-349" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-350"><a href="#cb107-350" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> <span class="fu">graph.full</span>(<span class="at">n=</span><span class="dv">10</span>)</span>
<span id="cb107-351"><a href="#cb107-351" aria-hidden="true" tabindex="-1"></a>only_odd_vertices <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(graph)<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb107-352"><a href="#cb107-352" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(only_odd_vertices)</span>
<span id="cb107-353"><a href="#cb107-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-354"><a href="#cb107-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-355"><a href="#cb107-355" aria-hidden="true" tabindex="-1"></a>Of course, it is possible to select vertices or edges by positional indices:</span>
<span id="cb107-356"><a href="#cb107-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-357"><a href="#cb107-357" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-358"><a href="#cb107-358" aria-hidden="true" tabindex="-1"></a>seq <span class="ot">&lt;-</span> <span class="fu">V</span>(graph)[<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>]</span>
<span id="cb107-359"><a href="#cb107-359" aria-hidden="true" tabindex="-1"></a>seq</span>
<span id="cb107-360"><a href="#cb107-360" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-361"><a href="#cb107-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-362"><a href="#cb107-362" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-363"><a href="#cb107-363" aria-hidden="true" tabindex="-1"></a>seq <span class="ot">&lt;-</span> seq[<span class="dv">1</span>, <span class="dv">3</span>]    <span class="co"># filtering an existing vertex set</span></span>
<span id="cb107-364"><a href="#cb107-364" aria-hidden="true" tabindex="-1"></a>seq</span>
<span id="cb107-365"><a href="#cb107-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-366"><a href="#cb107-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-367"><a href="#cb107-367" aria-hidden="true" tabindex="-1"></a>Selecting a vertex that does not exist results in an error:</span>
<span id="cb107-368"><a href="#cb107-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-369"><a href="#cb107-369" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE, eval = FALSE}</span></span>
<span id="cb107-370"><a href="#cb107-370" aria-hidden="true" tabindex="-1"></a>seq <span class="ot">&lt;-</span> <span class="fu">V</span>(graph)[<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="st">"foo"</span>, <span class="fl">3.5</span>]</span>
<span id="cb107-371"><a href="#cb107-371" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in simple_vs_index(x, ii, na_ok) : Unknown vertex selected</span></span>
<span id="cb107-372"><a href="#cb107-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-373"><a href="#cb107-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-374"><a href="#cb107-374" aria-hidden="true" tabindex="-1"></a>Attribute names can also be used as-is within the indexing brackets of <span class="in">`V()`</span> and <span class="in">`E()`</span>. This can be combined with R's ability to use boolean vectors for indexing to obtain very concise and readable expressions to retrieve a subset of the vertex or edge set of a graph. For instance, the following command gives you the names of the individuals younger than 30 years in our social network:</span>
<span id="cb107-375"><a href="#cb107-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-376"><a href="#cb107-376" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-377"><a href="#cb107-377" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)[age <span class="sc">&lt;</span> <span class="dv">30</span>]<span class="sc">$</span>name</span>
<span id="cb107-378"><a href="#cb107-378" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-379"><a href="#cb107-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-380"><a href="#cb107-380" aria-hidden="true" tabindex="-1"></a>Of course, <span class="in">`&lt;`</span> is not the only boolean operator that can be used for this. Other possibilities include the following:</span>
<span id="cb107-381"><a href="#cb107-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-382"><a href="#cb107-382" aria-hidden="true" tabindex="-1"></a>| Operator | Meaning                                                         |</span>
<span id="cb107-383"><a href="#cb107-383" aria-hidden="true" tabindex="-1"></a>|----------------------|--------------------------------------------------|</span>
<span id="cb107-384"><a href="#cb107-384" aria-hidden="true" tabindex="-1"></a>| <span class="in">`==`</span>     | The attribute/property value must be *equal to*                 |</span>
<span id="cb107-385"><a href="#cb107-385" aria-hidden="true" tabindex="-1"></a>| <span class="in">`!=`</span>     | The attribute/property value must *not be equal to*             |</span>
<span id="cb107-386"><a href="#cb107-386" aria-hidden="true" tabindex="-1"></a>| <span class="in">`&lt;`</span>      | The attribute/property value must be *less than*                |</span>
<span id="cb107-387"><a href="#cb107-387" aria-hidden="true" tabindex="-1"></a>| <span class="in">`&lt;=`</span>     | The attribute/property value must be *less than or equal to*    |</span>
<span id="cb107-388"><a href="#cb107-388" aria-hidden="true" tabindex="-1"></a>| <span class="in">`&gt;`</span>      | The attribute/property value must be *greater than*             |</span>
<span id="cb107-389"><a href="#cb107-389" aria-hidden="true" tabindex="-1"></a>| <span class="in">`&gt;=`</span>     | The attribute/property value must be *greater than or equal to* |</span>
<span id="cb107-390"><a href="#cb107-390" aria-hidden="true" tabindex="-1"></a>| <span class="in">`%in%`</span>   | The attribute/property value must be *included in*              |</span>
<span id="cb107-391"><a href="#cb107-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-392"><a href="#cb107-392" aria-hidden="true" tabindex="-1"></a>You can also create a "not in" operator from <span class="in">`%in%`</span> using the <span class="in">`Negate`</span> function:</span>
<span id="cb107-393"><a href="#cb107-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-394"><a href="#cb107-394" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-395"><a href="#cb107-395" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%notin%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">Negate</span>(<span class="st">`</span><span class="at">%in%</span><span class="st">`</span>)</span>
<span id="cb107-396"><a href="#cb107-396" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-397"><a href="#cb107-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-398"><a href="#cb107-398" aria-hidden="true" tabindex="-1"></a>If an attribute has the same name as an <span class="in">`igraph`</span> function, you should be careful as the syntax can become a little confusing. For instance, if there is an attribute named <span class="in">`degree`</span> that represents the grades of an exam for each person, that should not be confused with the <span class="in">`igraph`</span> function that computes the degrees of vertices in a network sense:</span>
<span id="cb107-399"><a href="#cb107-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-400"><a href="#cb107-400" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-401"><a href="#cb107-401" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B+"</span>, <span class="st">"A+"</span>, <span class="st">"C"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>)</span>
<span id="cb107-402"><a href="#cb107-402" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>degree[<span class="fu">degree</span>(g) <span class="sc">==</span> <span class="dv">3</span>]</span>
<span id="cb107-403"><a href="#cb107-403" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-404"><a href="#cb107-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-405"><a href="#cb107-405" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-406"><a href="#cb107-406" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>name[<span class="fu">degree</span>(g) <span class="sc">==</span> <span class="dv">3</span>]</span>
<span id="cb107-407"><a href="#cb107-407" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-408"><a href="#cb107-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-409"><a href="#cb107-409" aria-hidden="true" tabindex="-1"></a><span class="fu">### Selecting edges</span></span>
<span id="cb107-410"><a href="#cb107-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-411"><a href="#cb107-411" aria-hidden="true" tabindex="-1"></a>Edges can be selected based on attributes just like vertices. As mentioned above, the standard way to get edges is <span class="in">`E`</span>. Moreover, there are a few special structural properties for selecting edges.</span>
<span id="cb107-412"><a href="#cb107-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-413"><a href="#cb107-413" aria-hidden="true" tabindex="-1"></a>Using <span class="in">`.from`</span> allows you to filter the edge sequence based on the source vertices of the edges. E.g., to select all the edges originating from Carmina (who has vertex index 3):</span>
<span id="cb107-414"><a href="#cb107-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-415"><a href="#cb107-415" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE, warning = FALSE}</span></span>
<span id="cb107-416"><a href="#cb107-416" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)[<span class="fu">.from</span>(<span class="dv">3</span>)]</span>
<span id="cb107-417"><a href="#cb107-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-418"><a href="#cb107-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-419"><a href="#cb107-419" aria-hidden="true" tabindex="-1"></a>Of course it also works with vertex names:</span>
<span id="cb107-420"><a href="#cb107-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-421"><a href="#cb107-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE, warning = FALSE}</span></span>
<span id="cb107-422"><a href="#cb107-422" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)[<span class="fu">.from</span>(<span class="st">"Carmina"</span>)]</span>
<span id="cb107-423"><a href="#cb107-423" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-424"><a href="#cb107-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-425"><a href="#cb107-425" aria-hidden="true" tabindex="-1"></a>Using <span class="in">`.to`</span> filters edge sequences based on the target vertices. This is different from <span class="in">`.from`</span> if the graph is directed, while it gives the same answer for undirected graphs. Using <span class="in">`.inc`</span> selects only those edges that are incident on a single vertex or at least one of the vertices, irrespectively of the edge directions.</span>
<span id="cb107-426"><a href="#cb107-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-427"><a href="#cb107-427" aria-hidden="true" tabindex="-1"></a>The <span class="in">`%--%`</span> operator can be used to select edges between specific groups of vertices, ignoring edge directions in directed graphs. For instance, the following expression selects all the edges between Carmina (vertex index 3), Dennis (vertex index 5) and Esther (vertex index 6):</span>
<span id="cb107-428"><a href="#cb107-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-429"><a href="#cb107-429" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-430"><a href="#cb107-430" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g) [ <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">%--%</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span> ]</span>
<span id="cb107-431"><a href="#cb107-431" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-432"><a href="#cb107-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-433"><a href="#cb107-433" aria-hidden="true" tabindex="-1"></a>To make the <span class="in">`%--%`</span> operator work with names, you can build string vectors containing the names and then use these vectors as operands. For instance, to select all the edges that connect men to women, we can do the following after re-adding the gender attribute that we deleted earlier:</span>
<span id="cb107-434"><a href="#cb107-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-437"><a href="#cb107-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-438"><a href="#cb107-438" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"m"</span>)</span>
<span id="cb107-439"><a href="#cb107-439" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-440"><a href="#cb107-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-441"><a href="#cb107-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-442"><a href="#cb107-442" aria-hidden="true" tabindex="-1"></a>men <span class="ot">&lt;-</span> <span class="fu">V</span>(g)[gender <span class="sc">==</span> <span class="st">"m"</span>]<span class="sc">$</span>name</span>
<span id="cb107-443"><a href="#cb107-443" aria-hidden="true" tabindex="-1"></a>men</span>
<span id="cb107-444"><a href="#cb107-444" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-445"><a href="#cb107-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-446"><a href="#cb107-446" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-447"><a href="#cb107-447" aria-hidden="true" tabindex="-1"></a>women <span class="ot">&lt;-</span> <span class="fu">V</span>(g)[gender <span class="sc">==</span> <span class="st">"f"</span>]<span class="sc">$</span>name</span>
<span id="cb107-448"><a href="#cb107-448" aria-hidden="true" tabindex="-1"></a>women</span>
<span id="cb107-449"><a href="#cb107-449" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-450"><a href="#cb107-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-451"><a href="#cb107-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-452"><a href="#cb107-452" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)[men <span class="sc">%--%</span> women]</span>
<span id="cb107-453"><a href="#cb107-453" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-454"><a href="#cb107-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-455"><a href="#cb107-455" aria-hidden="true" tabindex="-1"></a><span class="fu">## Treating a graph as an adjacency matrix</span></span>
<span id="cb107-456"><a href="#cb107-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-457"><a href="#cb107-457" aria-hidden="true" tabindex="-1"></a>The adjacency matrix is another way to represent a graph. In an adjacency matrix, rows and columns are labeled by graph vertices, and the elements of the matrix indicate the number of edges between vertices *i* and *j*. The adjacency matrix for the example graph is:</span>
<span id="cb107-458"><a href="#cb107-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-459"><a href="#cb107-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb107-460"><a href="#cb107-460" aria-hidden="true" tabindex="-1"></a><span class="fu">get.adjacency</span>(g)</span>
<span id="cb107-461"><a href="#cb107-461" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-462"><a href="#cb107-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-463"><a href="#cb107-463" aria-hidden="true" tabindex="-1"></a>For example, Carmina (<span class="in">`1, 0, 0, 1, 1, 1, 0`</span>) is directly connected to Alejandra (who has vertex index 1), Frank (index 4), Dennis (index 5) and Esther (index 6), but not to Bruno (index 2) or to George (index 7).</span>
<span id="cb107-464"><a href="#cb107-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-465"><a href="#cb107-465" aria-hidden="true" tabindex="-1"></a><span class="fu">## Layouts and plotting</span></span>
<span id="cb107-466"><a href="#cb107-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-467"><a href="#cb107-467" aria-hidden="true" tabindex="-1"></a>A graph is an abstract mathematical object without a specific representation in 2D, 3D or any other geometric space. This means that whenever we want to visualise a graph, we have to find a mapping from vertices to coordinates in two- or three-dimensional space first, preferably in a way that is useful and/or pleasing for the eye. A separate branch of graph theory, namely graph drawing, tries to solve this problem via several graph layout algorithms. igraph implements quite a few layout algorithms and is also able to draw them onto the screen or to any output format that R itself supports.</span>
<span id="cb107-468"><a href="#cb107-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-469"><a href="#cb107-469" aria-hidden="true" tabindex="-1"></a><span class="fu">### Layout algorithms</span></span>
<span id="cb107-470"><a href="#cb107-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-471"><a href="#cb107-471" aria-hidden="true" tabindex="-1"></a>The layout functions in igraph always start with <span class="in">`layout`</span>. The following table summarises them:</span>
<span id="cb107-472"><a href="#cb107-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-473"><a href="#cb107-473" aria-hidden="true" tabindex="-1"></a>| Method name        | Algorithm description                                                                                          |</span>
<span id="cb107-474"><a href="#cb107-474" aria-hidden="true" tabindex="-1"></a>|-----------------|-------------------------------------------------------|</span>
<span id="cb107-475"><a href="#cb107-475" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_randomly`</span>  | Places the vertices completely randomly                                                                        |</span>
<span id="cb107-476"><a href="#cb107-476" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_in_circle`</span> | Deterministic layout that places the vertices on a circle                                                      |</span>
<span id="cb107-477"><a href="#cb107-477" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_on_sphere`</span> | Deterministic layout that places the vertices evenly on the surface of a sphere                                |</span>
<span id="cb107-478"><a href="#cb107-478" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_with_drl`</span>  | The Drl (Distributed Recursive Layout) algorithm for large graphs                                              |</span>
<span id="cb107-479"><a href="#cb107-479" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_with_fr`</span>   | Fruchterman-Reingold force-directed algorithm                                                                  |</span>
<span id="cb107-480"><a href="#cb107-480" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_with_kk`</span>   | Kamada-Kawai force-directed algorithm                                                                          |</span>
<span id="cb107-481"><a href="#cb107-481" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_with_lgl`</span>  | The LGL (Large Graph Layout) algorithm for large graphs                                                        |</span>
<span id="cb107-482"><a href="#cb107-482" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_as_tree`</span>   | Reingold-Tilford tree layout, useful for (almost) tree-like graphs                                             |</span>
<span id="cb107-483"><a href="#cb107-483" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout_nicely`</span>    | Layout algorithm that automatically picks one of the other algorithms based on certain properties of the graph |</span>
<span id="cb107-484"><a href="#cb107-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-485"><a href="#cb107-485" aria-hidden="true" tabindex="-1"></a>Layout algorithms can be called directly with a graph as its first argument. They will return a matrix with two columns and as many rows as the number of vertices in the graph; each row will correspond to the position of a single vertex, ordered by vertex IDs. Some algorithms have a 3D variant; in this case they return three columns instead of 2.</span>
<span id="cb107-486"><a href="#cb107-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-489"><a href="#cb107-489" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-490"><a href="#cb107-490" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(g)</span>
<span id="cb107-491"><a href="#cb107-491" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-492"><a href="#cb107-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-493"><a href="#cb107-493" aria-hidden="true" tabindex="-1"></a>Some layout algorithms take additional arguments; e.g., when laying out a graph as a tree, it might make sense to specify which vertex is to be placed at the root of the layout:</span>
<span id="cb107-494"><a href="#cb107-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-497"><a href="#cb107-497" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-498"><a href="#cb107-498" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_as_tree</span>(g, <span class="at">root =</span> <span class="dv">2</span>)</span>
<span id="cb107-499"><a href="#cb107-499" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-500"><a href="#cb107-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-501"><a href="#cb107-501" aria-hidden="true" tabindex="-1"></a><span class="fu">### Drawing a graph using a layout</span></span>
<span id="cb107-502"><a href="#cb107-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-503"><a href="#cb107-503" aria-hidden="true" tabindex="-1"></a>We can plot our imaginary social network with the Kamada-Kawai layout algorithm as follows:</span>
<span id="cb107-504"><a href="#cb107-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-507"><a href="#cb107-507" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-508"><a href="#cb107-508" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(g)</span>
<span id="cb107-509"><a href="#cb107-509" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-510"><a href="#cb107-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-513"><a href="#cb107-513" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-514"><a href="#cb107-514" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout =</span> layout, <span class="at">main =</span> <span class="st">"Social network with the Kamada-Kawai layout algorithm"</span>)</span>
<span id="cb107-515"><a href="#cb107-515" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-516"><a href="#cb107-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-517"><a href="#cb107-517" aria-hidden="true" tabindex="-1"></a>This should open a new window showing a visual representation of the network. Remember that the exact placement of nodes may be different on your machine since the layout is not deterministic.</span>
<span id="cb107-518"><a href="#cb107-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-519"><a href="#cb107-519" aria-hidden="true" tabindex="-1"></a>The <span class="in">`layout`</span> argument also accepts functions; in this case, the function will be called with the graph as its first argument. This makes it possible to just pass the name of a layout function directly, without creating a layout variable:</span>
<span id="cb107-520"><a href="#cb107-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-523"><a href="#cb107-523" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-524"><a href="#cb107-524" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout =</span> layout_with_fr,</span>
<span id="cb107-525"><a href="#cb107-525" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Social network with the Fruchterman-Reingold layout algorithm"</span>)</span>
<span id="cb107-526"><a href="#cb107-526" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-527"><a href="#cb107-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-528"><a href="#cb107-528" aria-hidden="true" tabindex="-1"></a>To improve the visuals, a trivial addition would be to color the vertices according to the gender. We should also try to place the labels slightly outside the vertices to improve readability:</span>
<span id="cb107-529"><a href="#cb107-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-532"><a href="#cb107-532" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-533"><a href="#cb107-533" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"m"</span>, <span class="st">"yellow"</span>, <span class="st">"red"</span>)</span>
<span id="cb107-534"><a href="#cb107-534" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout =</span> layout, <span class="at">vertex.label.dist =</span> <span class="fl">3.5</span>,</span>
<span id="cb107-535"><a href="#cb107-535" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Social network - with genders as colors"</span>)</span>
<span id="cb107-536"><a href="#cb107-536" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-537"><a href="#cb107-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-538"><a href="#cb107-538" aria-hidden="true" tabindex="-1"></a>You can also treat the <span class="in">`gender`</span> attribute as a factor and provide the colors with an argument to <span class="in">`plot()`</span>, which takes precedence over the <span class="in">`color`</span> vertex attribute. Colors will be assigned automatically to levels of a factor:</span>
<span id="cb107-539"><a href="#cb107-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-542"><a href="#cb107-542" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-543"><a href="#cb107-543" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout=</span>layout, <span class="at">vertex.label.dist=</span><span class="fl">3.5</span>, <span class="at">vertex.color=</span><span class="fu">as.factor</span>(<span class="fu">V</span>(g)<span class="sc">$</span>gender))</span>
<span id="cb107-544"><a href="#cb107-544" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-545"><a href="#cb107-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-546"><a href="#cb107-546" aria-hidden="true" tabindex="-1"></a>As seen above with the <span class="in">`vertex.color`</span> argument, you can specify visual properties as arguments to <span class="in">`plot`</span> instead of using vertex or edge attributes. The following plot shows the formal ties with thick lines while informal ones with thin lines:</span>
<span id="cb107-547"><a href="#cb107-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-550"><a href="#cb107-550" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb107-551"><a href="#cb107-551" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="at">layout=</span>layout, <span class="at">vertex.label.dist=</span><span class="fl">3.5</span>, <span class="at">vertex.size=</span><span class="dv">20</span>,</span>
<span id="cb107-552"><a href="#cb107-552" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color=</span><span class="fu">ifelse</span>(<span class="fu">V</span>(g)<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"m"</span>, <span class="st">"yellow"</span>, <span class="st">"red"</span>),</span>
<span id="cb107-553"><a href="#cb107-553" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.width=</span><span class="fu">ifelse</span>(<span class="fu">E</span>(g)<span class="sc">$</span>is_formal, <span class="dv">5</span>, <span class="dv">1</span>))</span>
<span id="cb107-554"><a href="#cb107-554" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb107-555"><a href="#cb107-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-556"><a href="#cb107-556" aria-hidden="true" tabindex="-1"></a>This latter approach is preferred if you want to keep the properties of the visual representation of your graph separate from the graph itself.</span>
<span id="cb107-557"><a href="#cb107-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-558"><a href="#cb107-558" aria-hidden="true" tabindex="-1"></a>In summary, there are special vertex and edge properties that correspond to the visual representation of the graph. These attributes override the default settings of igraph (i.e color, weight, name, shape,layout,etc.). The following two tables summarise the most frequently used visual attributes for vertices and edges, respectively:</span>
<span id="cb107-559"><a href="#cb107-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-560"><a href="#cb107-560" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vertex attributes controlling graph plots</span></span>
<span id="cb107-561"><a href="#cb107-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-562"><a href="#cb107-562" aria-hidden="true" tabindex="-1"></a>| Attribute name | Keyword argument      | Purpose                                                                                                                                                                                                                                        |</span>
<span id="cb107-563"><a href="#cb107-563" aria-hidden="true" tabindex="-1"></a>|----------------------|----------------------|-----------------------------|</span>
<span id="cb107-564"><a href="#cb107-564" aria-hidden="true" tabindex="-1"></a>| <span class="in">`color`</span>        | <span class="in">`vertex.color`</span>        | Color of the vertex                                                                                                                                                                                                                            |</span>
<span id="cb107-565"><a href="#cb107-565" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label`</span>        | <span class="in">`vertex.label`</span>        | Label of the vertex. They will be converted to character. Specify NA to omit vertex labels. The default vertex labels are the vertex ids.                                                                                                      |</span>
<span id="cb107-566"><a href="#cb107-566" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.cex`</span>    | <span class="in">`vertex.label.cex`</span>    | Font size of the vertex label, interpreted as a multiplicative factor, similarly to R's <span class="in">`text`</span> function                                                                                                                                        |</span>
<span id="cb107-567"><a href="#cb107-567" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.color`</span>  | <span class="in">`vertex.label.color`</span>  | Color of the vertex label                                                                                                                                                                                                                      |</span>
<span id="cb107-568"><a href="#cb107-568" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.degree`</span> | <span class="in">`vertex.label.degree`</span> | It defines the position of the vertex labels, relative to the center of the vertices. It is interpreted as an angle in radian, zero means 'to the right', and 'pi' means to the left, up is -pi/2 and down is pi/2. The default value is -pi/4 |</span>
<span id="cb107-569"><a href="#cb107-569" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.dist`</span>   | <span class="in">`vertex.label.dist`</span>   | Distance of the vertex label from the vertex itself, relative to the vertex size                                                                                                                                                               |</span>
<span id="cb107-570"><a href="#cb107-570" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.family`</span> | <span class="in">`vertex.label.family`</span> | Font family of the vertex, similarly to R's <span class="in">`text`</span> function                                                                                                                                                                                    |</span>
<span id="cb107-571"><a href="#cb107-571" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.font`</span>   | <span class="in">`vertex.label.font`</span>   | Font within the font family of the vertex, similarly to R's <span class="in">`text`</span> function                                                                                                                                                                    |</span>
<span id="cb107-572"><a href="#cb107-572" aria-hidden="true" tabindex="-1"></a>| <span class="in">`shape`</span>        | <span class="in">`vertex.shape`</span>        | The shape of the vertex, currently "circle", "square", "csquare", "rectangle", "crectangle", "vrectangle", "pie" (see vertex.shape.pie), 'sphere', and "none" are supported, and only by the plot.igraph command.                              |</span>
<span id="cb107-573"><a href="#cb107-573" aria-hidden="true" tabindex="-1"></a>| <span class="in">`size`</span>         | <span class="in">`vertex.size`</span>         | The size of the vertex, a numeric scalar or vector, in the latter case each vertex sizes may differ                                                                                                                                            |</span>
<span id="cb107-574"><a href="#cb107-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-575"><a href="#cb107-575" aria-hidden="true" tabindex="-1"></a><span class="fu">### Edge attributes controlling graph plots</span></span>
<span id="cb107-576"><a href="#cb107-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-577"><a href="#cb107-577" aria-hidden="true" tabindex="-1"></a>| Attribute name | Keyword argument    | Purpose                                                                                                                                                                                                                                     |</span>
<span id="cb107-578"><a href="#cb107-578" aria-hidden="true" tabindex="-1"></a>|-------------------------|-----------------------------|-------------------|</span>
<span id="cb107-579"><a href="#cb107-579" aria-hidden="true" tabindex="-1"></a>| <span class="in">`color`</span>        | <span class="in">`edge.color`</span>        | Color of the edge                                                                                                                                                                                                                           |</span>
<span id="cb107-580"><a href="#cb107-580" aria-hidden="true" tabindex="-1"></a>| <span class="in">`curved`</span>       | <span class="in">`edge.curved`</span>       | A numeric value specifies the curvature of the edge; zero curvature means straight edges, negative values means the edge bends clockwise, positive values the opposite. TRUE means curvature 0.5, FALSE means curvature zero                |</span>
<span id="cb107-581"><a href="#cb107-581" aria-hidden="true" tabindex="-1"></a>| <span class="in">`arrow.size`</span>   | <span class="in">`edge.arrow.size`</span>   | Currently this is a constant, so it is the same for every edge. If a vector is submitted then only the first element is used, ie. if this is taken from an edge attribute then only the attribute of the first edge is used for all arrows. |</span>
<span id="cb107-582"><a href="#cb107-582" aria-hidden="true" tabindex="-1"></a>| <span class="in">`arrow.width`</span>  | <span class="in">`edge.arrow.width`</span>  | The width of the arrows. Currently this is a constant, so it is the same for every edge                                                                                                                                                     |</span>
<span id="cb107-583"><a href="#cb107-583" aria-hidden="true" tabindex="-1"></a>| <span class="in">`width`</span>        | <span class="in">`edge.width`</span>        | Width of the edge in pixels                                                                                                                                                                                                                 |</span>
<span id="cb107-584"><a href="#cb107-584" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label`</span>        | <span class="in">`edge.label`</span>        | If specified, it adds a label to the edge.                                                                                                                                                                                                  |</span>
<span id="cb107-585"><a href="#cb107-585" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.cex`</span>    | <span class="in">`edge.label.cex`</span>    | Font size of the edge label, interpreted as a multiplicative factor, similarly to R's <span class="in">`text`</span> function                                                                                                                                       |</span>
<span id="cb107-586"><a href="#cb107-586" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.color`</span>  | <span class="in">`edge.label.color`</span>  | Color of the edge label                                                                                                                                                                                                                     |</span>
<span id="cb107-587"><a href="#cb107-587" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.family`</span> | <span class="in">`edge.label.family`</span> | Font family of the edge, similarly to R's <span class="in">`text`</span> function                                                                                                                                                                                   |</span>
<span id="cb107-588"><a href="#cb107-588" aria-hidden="true" tabindex="-1"></a>| <span class="in">`label.font`</span>   | <span class="in">`edge.label.font`</span>   | Font within the font family of the edge, similarly to R's <span class="in">`text`</span> function                                                                                                                                                                   |</span>
<span id="cb107-589"><a href="#cb107-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-590"><a href="#cb107-590" aria-hidden="true" tabindex="-1"></a><span class="fu">### Generic arguments of `plot()`</span></span>
<span id="cb107-591"><a href="#cb107-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-592"><a href="#cb107-592" aria-hidden="true" tabindex="-1"></a>These settings can be specified as arguments to the <span class="in">`plot`</span> function to control the overall appearance of the plot.</span>
<span id="cb107-593"><a href="#cb107-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-594"><a href="#cb107-594" aria-hidden="true" tabindex="-1"></a>| Keyword argument | Purpose                                                                                                                                                                                                                                                           |</span>
<span id="cb107-595"><a href="#cb107-595" aria-hidden="true" tabindex="-1"></a>|--------------------------------|----------------------------------------|</span>
<span id="cb107-596"><a href="#cb107-596" aria-hidden="true" tabindex="-1"></a>| <span class="in">`layout`</span>         | The layout to be used. It can be an instance of <span class="in">`Layout`</span>, a list of tuples containing X-Y coordinates, or the name of a layout algorithm. The default is <span class="in">`auto`</span>, which selects a layout algorithm automatically based on the size and connectedness of the graph. |</span>
<span id="cb107-597"><a href="#cb107-597" aria-hidden="true" tabindex="-1"></a>| <span class="in">`margin`</span>         | The amount of empty space below, over, at the left and right of the plot, it is a numeric vector of length four.                                                                                                                                                  |</span>
<span id="cb107-598"><a href="#cb107-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-599"><a href="#cb107-599" aria-hidden="true" tabindex="-1"></a><span class="fu">## igraph and the outside world</span></span>
<span id="cb107-600"><a href="#cb107-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-601"><a href="#cb107-601" aria-hidden="true" tabindex="-1"></a>No graph module would be complete without some kind of import/export functionality that enables the package to communicate with external programs and toolkits. <span class="in">`igraph`</span> is no exception: it provides functions to read the most common graph formats and to save graphs into files obeying these format specifications. The main functions for reading and writing from/to file are <span class="in">`read_graph`</span> and <span class="in">`write_graph`</span>, respectively. The following table summarises the formats igraph can read or write:</span>
<span id="cb107-602"><a href="#cb107-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-603"><a href="#cb107-603" aria-hidden="true" tabindex="-1"></a>| Format                                                                    | Short name  | Read function                                                                                                                                                                             | Write function                                     |</span>
<span id="cb107-604"><a href="#cb107-604" aria-hidden="true" tabindex="-1"></a>|------------------|------------------|------------------|------------------|</span>
<span id="cb107-605"><a href="#cb107-605" aria-hidden="true" tabindex="-1"></a>| Adjacency list (a.k.a. <span class="co">[</span><span class="ot">LGL</span><span class="co">](https://lgl.sourceforge.net/#FileFormat)</span>)    | <span class="in">`lgl`</span>       | <span class="in">`read_graph(file, format = c("lgl"))`</span>                                                                                                                                                     | <span class="in">`write_graph(graph, file, format = c("lgl"))`</span>      |</span>
<span id="cb107-606"><a href="#cb107-606" aria-hidden="true" tabindex="-1"></a>| Adjacency matrix                                                          | <span class="in">`adjacency`</span> | <span class="in">`graph_from_adjacency_matrix(adjmatrix, mode = c("directed", "undirected", "max", "min", "upper","lower", "plus"), weighted = NULL, diag = TRUE, add.colnames = NULL, add.rownames = NA)`</span> | <span class="in">`as.matrix(graph, "adjacency")`</span>                    |</span>
<span id="cb107-607"><a href="#cb107-607" aria-hidden="true" tabindex="-1"></a>| DIMACS                                                                    | <span class="in">`dimacs`</span>    | <span class="in">`read_graph(file, format = c("dimacs"))`</span>                                                                                                                                                  | <span class="in">`write_graph(graph, file, format = c("dimacs"))`</span>   |</span>
<span id="cb107-608"><a href="#cb107-608" aria-hidden="true" tabindex="-1"></a>| Edge list                                                                 | <span class="in">`edgelist`</span>  | <span class="in">`read_graph(file, format = c("edgelist"))`</span>                                                                                                                                                | <span class="in">`write_graph(graph, file, format = c("edgelist"))`</span> |</span>
<span id="cb107-609"><a href="#cb107-609" aria-hidden="true" tabindex="-1"></a>| <span class="co">[</span><span class="ot">GraphViz</span><span class="co">](https://www.graphviz.org)</span>                                      | <span class="in">`dot`</span>       | not supported yet                                                                                                                                                                         | <span class="in">`write_graph(graph, file, formati = c("dot"))`</span>     |</span>
<span id="cb107-610"><a href="#cb107-610" aria-hidden="true" tabindex="-1"></a>| GML                                                                       | <span class="in">`gml`</span>       | <span class="in">`read_graph(file, format = c("gml"))`</span>                                                                                                                                                     | <span class="in">`write_graph(graph, file, format = c("gml"))`</span>      |</span>
<span id="cb107-611"><a href="#cb107-611" aria-hidden="true" tabindex="-1"></a>| GraphML                                                                   | <span class="in">`graphml`</span>   | <span class="in">`read_graph(file, format = c("graphml"))`</span>                                                                                                                                                 | <span class="in">`write_graph(graph, file, format = c("graphml"))`</span>  |</span>
<span id="cb107-612"><a href="#cb107-612" aria-hidden="true" tabindex="-1"></a>| LEDA                                                                      | <span class="in">`leda`</span>      | not supported yet                                                                                                                                                                         | <span class="in">`write_graph(graph, file, format = c("leda"))`</span>     |</span>
<span id="cb107-613"><a href="#cb107-613" aria-hidden="true" tabindex="-1"></a>| Labeled edgelist (a.k.a. <span class="co">[</span><span class="ot">NCOL</span><span class="co">](https://lgl.sourceforge.net/#FileFormat)</span>) | <span class="in">`ncol`</span>      | <span class="in">`read_graph(file, format = c("ncol"))`</span>                                                                                                                                                    | <span class="in">`write_graph(graph, file, format = c("ncol"))`</span>     |</span>
<span id="cb107-614"><a href="#cb107-614" aria-hidden="true" tabindex="-1"></a>| <span class="co">[</span><span class="ot">Pajek</span><span class="co">](http://mrvar.fdv.uni-lj.si/pajek/)</span> format                         | <span class="in">`pajek`</span>     | <span class="in">`read_graph(file, format = c("pajek"))`</span>                                                                                                                                                   | <span class="in">`write_graph(graph, file, format = c("pajek"))`</span>    |</span>
<span id="cb107-615"><a href="#cb107-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-616"><a href="#cb107-616" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb107-617"><a href="#cb107-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-618"><a href="#cb107-618" aria-hidden="true" tabindex="-1"></a>**NOTE:** Each file format has its own limitations. For instance, not all of them can store attributes. Your best bet is probably GraphML or GML if you want to save igraph graphs in a format that can be read from an external package and you want to preserve numeric and string attributes. Edge list and NCOL is also fine if you don't have attributes (NCOL supports vertex names and edge weights, though).</span>
<span id="cb107-619"><a href="#cb107-619" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>