<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.220">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Barrie D. Robison">
<meta name="dcterms.date" content="2023-08-17">
<meta name="description" content="How can we embed Data Literacy exercises for the early game?">

<title>Robison - Embedding Data Literacy Content in Project TwinStick</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Robison</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../Research.html" rel="" target="" aria-current="page">
 <span class="menu-text">RESEARCH</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../Publications.html" rel="" target="">
 <span class="menu-text">PUBLICATIONS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../Teaching.html" rel="" target="">
 <span class="menu-text">TEACHING</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../PolymorphicGames.html" rel="" target="">
 <span class="menu-text">STUDIO</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../ProfessorPolymorphic/index.html" rel="" target="">
 <span class="menu-text">BLOG</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../ProfessorPolymorphic/index.html">Professor Polymorphic</a></li><li class="breadcrumb-item"><a href="../../../ProfessorPolymorphic/posts/post-with-code/index.html">Posts</a></li><li class="breadcrumb-item"><a href="../../../ProfessorPolymorphic/posts/TwinStickGraphs1/index.html">Embedding Data Literacy Content in Project TwinStick</a></li></ol></nav>
      <a class="flex-grow-1" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Embedding Data Literacy Content in Project TwinStick</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
            <p class="subtitle lead">1 - Single Generation Graphs</p>
                  <div>
        <div class="description">
          How can we embed Data Literacy exercises for the early game?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">TwinStick</div>
                <div class="quarto-category">Evolution</div>
                <div class="quarto-category">Data Science</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Barrie D. Robison </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 17, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../PolymorphicGames.html" class="sidebar-item-text sidebar-link">Polymorphic Games</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Publications.html" class="sidebar-item-text sidebar-link">PUBLICATIONS</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Research.html" class="sidebar-item-text sidebar-link">RESEARCH</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Teaching.html" class="sidebar-item-text sidebar-link">TEACHING</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../BCB520/index.html" class="sidebar-item-text sidebar-link">BCB 520:: Foundations of Data Visualization</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Posts</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T6-APIsandJSON/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 6 - APIs and JSON data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T8-MidtermExample/index.html" class="sidebar-item-text sidebar-link">BCB 520 - Midterm Portfolio Post</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L2-Data-Abstraction/index.html" class="sidebar-item-text sidebar-link">LECTURE 2 - DATA ABSTRACTION</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T4-BarriesData/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L4-Marks-Channels/index.html" class="sidebar-item-text sidebar-link">LECTURE 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/Certificate/index.html" class="sidebar-item-text sidebar-link">CERTIFICATE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L1-Intro/index.html" class="sidebar-item-text sidebar-link">LECTURE 1 - INTRO</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T3-Python/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 3 - Python</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A1-Lit-Prog/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 1 - Fun with literate programming.</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L3-TaskAbstraction/index.html" class="sidebar-item-text sidebar-link">LECTURE 3 - TASK ABSTRACTION</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A9-NetworksinObservable/index.html" class="sidebar-item-text sidebar-link">NETWORKS IN OBSERVABLE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T1-Lit-Prog/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 1 - Literate Programming</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/Syllabus/index.html" class="sidebar-item-text sidebar-link">SYLLABUS 2023</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A8-NetworkData/index.html" class="sidebar-item-text sidebar-link">Practice with Network Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A3-PrototypeVizPortfolio/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A6-Midterm/index.html" class="sidebar-item-text sidebar-link">Midterm Assignment</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L6-TabularData1/index.html" class="sidebar-item-text sidebar-link">LECTURE 6 - Tabular Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T7-NHLDraft/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 7</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L5-ThumbRules/index.html" class="sidebar-item-text sidebar-link">LECTURE 5 - Rules of Thumb</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A5-TabularData/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A4-MarksChannels/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A2-YourData/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 2 - Your Data.</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T2-Anscombe/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 2 - Literate Programming and Anscombe’s Quartet</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A10-FinalProject/index.html" class="sidebar-item-text sidebar-link">FINAL PROJECT</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/T5-MarksChannels/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 5 - Marks and Channels</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/L8-NetworkData/index.html" class="sidebar-item-text sidebar-link">LECTURE 8 - Network Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../BCB520/posts/A7-SpatialData/index.html" class="sidebar-item-text sidebar-link">Practice with Spatial Data</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../TEACHING/index.html" class="sidebar-item-text sidebar-link">TEACHING</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../TEACHING/BCB521/index.html" class="sidebar-item-text sidebar-link">BCB 521</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Syllabus.html" class="sidebar-item-text sidebar-link">SYLLABUS 2023</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../TEACHING/BCB521/Assignments/index.html" class="sidebar-item-text sidebar-link">Assignments</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Assignments/A1-Lit-Prog/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 1 - Fun with literate programming.</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Assignments/A2-PortfolioSetUp/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Assignments/A3-YourData/index.html" class="sidebar-item-text sidebar-link">ASSIGNMENT 3 - Your Data.</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../TEACHING/BCB521/Resources/index.html" class="sidebar-item-text sidebar-link">Resources</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Resources/T2-RStudioGit/index.html" class="sidebar-item-text sidebar-link">CONNECTING GIT WITH RSTUDIO</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Resources/Certificate/index.html" class="sidebar-item-text sidebar-link">CERTIFICATE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Resources/T3-BasicDataWrangling/index.html" class="sidebar-item-text sidebar-link">Tutorial - Basic Data Wrangling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../TEACHING/BCB521/Resources/T1-Lit-Prog/index.html" class="sidebar-item-text sidebar-link">TUTORIAL 1 - Literate Programming</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../ProfessorPolymorphic/index.html" class="sidebar-item-text sidebar-link">Professor Polymorphic</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">Posts</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/post-with-code/index.html" class="sidebar-item-text sidebar-link">Observable Experiment</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/UndergradResearch/index.html" class="sidebar-item-text sidebar-link">UNDERGRADUATE RESEARCH</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/DataScienceMythos/index.html" class="sidebar-item-text sidebar-link">The Data Science Mythos</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/TwinStickGraphs1/index.html" class="sidebar-item-text sidebar-link active">Embedding Data Literacy Content in Project TwinStick</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/TickBaseDEI/index.html" class="sidebar-item-text sidebar-link">Reflections on Mentoring and Diversity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/welcome/index.html" class="sidebar-item-text sidebar-link">You’ve gotta be f***ing kidding…</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/AIVideo/index.html" class="sidebar-item-text sidebar-link">My First AI Generated Video</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../ProfessorPolymorphic/posts/LabMeetings/index.html" class="sidebar-item-text sidebar-link">Polymorphic Games Lab Meeting</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/LabMeetings/OSTime.html" class="sidebar-item-text sidebar-link">OSDevTimeline</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/LabMeetings/SanteFeWorkshop.html" class="sidebar-item-text sidebar-link">SanteFe Workshop</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../ProfessorPolymorphic/posts/Viz_2Gen_Pedigree/index.html" class="sidebar-item-text sidebar-link">VIZ EXPERIMENT 1</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../ProfessorPolymorphic/posts/Viz_2Gen_Pedigree/PedigreeViz.html" class="sidebar-item-text sidebar-link">PedigreeViz</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-twin-stick" id="toc-project-twin-stick" class="nav-link active" data-scroll-target="#project-twin-stick">PROJECT TWIN STICK</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">DATA</a></li>
  <li><a href="#experimental-conditions" id="toc-experimental-conditions" class="nav-link" data-scroll-target="#experimental-conditions">EXPERIMENTAL CONDITIONS</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">RESULTS</a>
  <ul class="collapse">
  <li><a href="#slime-types" id="toc-slime-types" class="nav-link" data-scroll-target="#slime-types">Slime Types</a></li>
  </ul></li>
  <li><a href="#generation-0" id="toc-generation-0" class="nav-link" data-scroll-target="#generation-0">GENERATION 0</a></li>
  <li><a href="#generation-1" id="toc-generation-1" class="nav-link" data-scroll-target="#generation-1">GENERATION 1</a></li>
  <li><a href="#generation-2" id="toc-generation-2" class="nav-link" data-scroll-target="#generation-2">GENERATION 2</a></li>
  <li><a href="#generation-3" id="toc-generation-3" class="nav-link" data-scroll-target="#generation-3">GENERATION 3</a></li>
  <li><a href="#slime-fitness" id="toc-slime-fitness" class="nav-link" data-scroll-target="#slime-fitness">Slime Fitness</a></li>
  <li><a href="#evolutionary-responses" id="toc-evolutionary-responses" class="nav-link" data-scroll-target="#evolutionary-responses">Evolutionary Responses</a></li>
  <li><a href="#heatmap" id="toc-heatmap" class="nav-link" data-scroll-target="#heatmap">Heatmap</a></li>
  <li><a href="#single-generation-plots" id="toc-single-generation-plots" class="nav-link" data-scroll-target="#single-generation-plots">SINGLE GENERATION PLOTS</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Is it really an <em>Evolutionary</em> game?</p>
<p>When we are developing our games, we perform extensive testing to make sure the underlying biological models are performing as expected. In the case of evolutionary games, we need to test that the population of enemies is indeed adapting the game conditions as we intended. This post is (I hope) the first in a series in which we document those tests.</p>
<p>My hope is that performing these tests in this format will serve as an organized archive of our analyses, improving reproducibility and rigor. I also have a vain glimmer of hope that some person other than me might actually be interested in this topic.</p>
<section id="project-twin-stick" class="level2">
<h2 class="anchored" data-anchor-id="project-twin-stick">PROJECT TWIN STICK</h2>
<p>This is intended to be an evolutionary shooter. The game is described in detail <a href="https://professorpolymorphic.github.io/PolymorphicWeb/Games/TwinStick/">here</a>.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">DATA</h2>
<p>In this section, we ingest the data from whatever runs are relevant to the analysis. The data are written from the project in <code>.csv</code> files. The following code reads all <code>.csv</code> files from the working directory. It creates new variables for the source file name (<code>file</code>) and the number of offspring produced by each individual (<code>offspring_count</code>). It then appends all the data files into a single data frame called <code>allfiles</code>. I also create a few aggregations of the data by generating mean values of interest (traits, genes, fitness estimates) for each generation in each file (<code>TraitAvg</code>, <code>GeneAvg</code>, <code>FitAvg</code>)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pheatmap)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">"*.csv"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>allfiles <span class="ot">=</span> <span class="fu">data.frame</span>()</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(csv <span class="cf">in</span> files){</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  Twin3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(csv, <span class="at">as.is=</span>T, <span class="at">header=</span>T)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  Twin3[<span class="st">'file'</span>] <span class="ot">=</span> csv</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>Twin3<span class="ot">&lt;-</span>Twin3<span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unique.Slime.ID =</span> <span class="fu">paste</span>(Wave.Number, <span class="st">"."</span>, Slime.ID))<span class="sc">%&gt;%</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unique.Parent.One =</span> <span class="fu">paste</span>(Wave.Number<span class="dv">-1</span>, <span class="st">"."</span>, Parent.One))<span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unique.Parent.Two =</span> <span class="fu">paste</span>(Wave.Number<span class="dv">-1</span>, <span class="st">"."</span>, Parent.Two))</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>df_parents <span class="ot">&lt;-</span> Twin3 <span class="sc">%&gt;%</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Unique.Parent.One, Unique.Parent.Two) <span class="sc">%&gt;%</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"parent_type"</span>, <span class="at">values_to =</span> <span class="st">"parent_id"</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of offspring for each parent</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>offspring_counts <span class="ot">&lt;-</span> df_parents <span class="sc">%&gt;%</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parent_id) <span class="sc">%&gt;%</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">offspring_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>offspring_counts <span class="ot">&lt;-</span> offspring_counts<span class="sc">%&gt;%</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(parent_id <span class="sc">!=</span> <span class="st">"-1 . N/A"</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>offspring_counts<span class="ot">&lt;-</span> <span class="fu">rename</span>(offspring_counts, <span class="at">Unique.Slime.ID =</span> parent_id)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>Twin3 <span class="ot">&lt;-</span> Twin3 <span class="sc">%&gt;%</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(offspring_counts, <span class="at">by =</span> <span class="st">"Unique.Slime.ID"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">offspring_count =</span> <span class="dv">0</span>))</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>allfiles<span class="ot">&lt;-</span><span class="fu">rbind</span>(allfiles,Twin3)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>Traits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Main.Resistance.Trait"</span>, <span class="st">"Secondary.Resistance.Trait"</span>, <span class="st">"Speed.Trait"</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Tower.Attraction.Trait"</span>, <span class="st">"Slime.Optimal.Distance.Trait"</span>, <span class="st">"Turn.Rate.Trait"</span>, </span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Slime.View.Range.Trait"</span>, <span class="st">"Tower.View.Range.Trait"</span>)</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>Genes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Main.Resistance.Gene"</span>, <span class="st">"Secondary.Resistance.Gene"</span>, <span class="st">"Speed.Gene"</span>,</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Tower.Attraction.Gene"</span>, <span class="st">"Slime.Optimal.Distance.Gene"</span>, <span class="st">"Turn.Rate.Gene"</span>, </span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Slime.View.Range.Gene"</span>, <span class="st">"Tower.View.Range.Gene"</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>allfiles<span class="ot">&lt;-</span>allfiles<span class="sc">%&gt;%</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Generation=</span><span class="fu">as.factor</span>(Wave.Number))<span class="sc">%&gt;%</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">offspring.count.Fitness =</span> offspring_count)<span class="sc">%&gt;%</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reproduce =</span> <span class="fu">if_else</span>(offspring_count <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"N"</span>, <span class="st">"Y"</span>))</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>TraitAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Trait"</span>), mean,  <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>GeneAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Gene"</span>), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">var =</span> var), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">.names =</span> <span class="st">"{.fn}.{.col}"</span>))</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>FitAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Fitness"</span>), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">var =</span> var), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">.names =</span> <span class="st">"{.fn}.{.col}"</span>))</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>allfiles <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LResist.Trait =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">1.0</span>,</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.6</span>,</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.4</span>,</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The <code>allfiles</code> dataframe contains the following variables (I also show a few columns of the example data):</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data.dictionary <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.data.frame</span>(<span class="fu">head</span>(allfiles)))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(data.dictionary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">1</th>
<th style="text-align: left;">2</th>
<th style="text-align: left;">3</th>
<th style="text-align: left;">4</th>
<th style="text-align: left;">5</th>
<th style="text-align: left;">6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Slime.ID</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wave.Number</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Path.Distance.To.Player</td>
<td style="text-align: left;">11.11780</td>
<td style="text-align: left;">51.38884</td>
<td style="text-align: left;">54.21675</td>
<td style="text-align: left;">53.52212</td>
<td style="text-align: left;">53.59597</td>
<td style="text-align: left;">45.62690</td>
</tr>
<tr class="even">
<td style="text-align: left;">Player.Distance.Fitness</td>
<td style="text-align: left;">4126.1610</td>
<td style="text-align: left;">954.4017</td>
<td style="text-align: left;">905.5223</td>
<td style="text-align: left;">917.0590</td>
<td style="text-align: left;">915.8185</td>
<td style="text-align: left;">1072.3420</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Parent.One</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="even">
<td style="text-align: left;">Parent.Two</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Main.Type</td>
<td style="text-align: left;">Fire</td>
<td style="text-align: left;">Player</td>
<td style="text-align: left;">Fire</td>
<td style="text-align: left;">Player</td>
<td style="text-align: left;">Lightning</td>
<td style="text-align: left;">Ice</td>
</tr>
<tr class="even">
<td style="text-align: left;">Secondary.Type</td>
<td style="text-align: left;">Lightning</td>
<td style="text-align: left;">Balanced</td>
<td style="text-align: left;">Lightning</td>
<td style="text-align: left;">Balanced</td>
<td style="text-align: left;">Laser</td>
<td style="text-align: left;">Lightning</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Main.Resistance.Gene</td>
<td style="text-align: left;">2.0608870</td>
<td style="text-align: left;">-4.4758530</td>
<td style="text-align: left;">-4.4736510</td>
<td style="text-align: left;">-0.2062796</td>
<td style="text-align: left;">0.7103590</td>
<td style="text-align: left;">-1.3259160</td>
</tr>
<tr class="even">
<td style="text-align: left;">Main.Resistance.Trait</td>
<td style="text-align: left;">0.5781593</td>
<td style="text-align: left;">0.2109908</td>
<td style="text-align: left;">0.2110825</td>
<td style="text-align: left;">0.4374371</td>
<td style="text-align: left;">0.4943977</td>
<td style="text-align: left;">0.3701721</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Secondary.Resistance.Gene</td>
<td style="text-align: left;">0.01938968</td>
<td style="text-align: left;">0.62744310</td>
<td style="text-align: left;">0.69598620</td>
<td style="text-align: left;">0.89974080</td>
<td style="text-align: left;">-2.50028000</td>
<td style="text-align: left;">5.43153300</td>
</tr>
<tr class="even">
<td style="text-align: left;">Secondary.Resistance.Trait</td>
<td style="text-align: left;">0.1831496</td>
<td style="text-align: left;">0.2069943</td>
<td style="text-align: left;">0.2098212</td>
<td style="text-align: left;">0.2183915</td>
<td style="text-align: left;">0.1066839</td>
<td style="text-align: left;">0.4645305</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Slime.View.Range.Gene</td>
<td style="text-align: left;">1.45217100</td>
<td style="text-align: left;">1.50213300</td>
<td style="text-align: left;">1.37864100</td>
<td style="text-align: left;">0.08060846</td>
<td style="text-align: left;">-1.77270500</td>
<td style="text-align: left;">-2.11503800</td>
</tr>
<tr class="even">
<td style="text-align: left;">Slime.View.Range.Trait</td>
<td style="text-align: left;">9.846652</td>
<td style="text-align: left;">9.891931</td>
<td style="text-align: left;">9.779832</td>
<td style="text-align: left;">8.575567</td>
<td style="text-align: left;">6.864766</td>
<td style="text-align: left;">6.562094</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tower.View.Range.Gene</td>
<td style="text-align: left;">0.7422258</td>
<td style="text-align: left;">-2.2926750</td>
<td style="text-align: left;">0.5915011</td>
<td style="text-align: left;">-1.4378940</td>
<td style="text-align: left;">1.7216920</td>
<td style="text-align: left;">-0.2360138</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tower.View.Range.Trait</td>
<td style="text-align: left;">22.85026</td>
<td style="text-align: left;">15.42024</td>
<td style="text-align: left;">22.47606</td>
<td style="text-align: left;">17.44348</td>
<td style="text-align: left;">25.23899</td>
<td style="text-align: left;">20.41014</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Player.View.Range.Gene</td>
<td style="text-align: left;">-0.7063282</td>
<td style="text-align: left;">-1.7676410</td>
<td style="text-align: left;">-1.2759830</td>
<td style="text-align: left;">-2.7530170</td>
<td style="text-align: left;">1.3304860</td>
<td style="text-align: left;">-2.3889850</td>
</tr>
<tr class="even">
<td style="text-align: left;">Player.View.Range.Trait</td>
<td style="text-align: left;">3.356673</td>
<td style="text-align: left;">2.912497</td>
<td style="text-align: left;">3.109854</td>
<td style="text-align: left;">2.560056</td>
<td style="text-align: left;">4.390841</td>
<td style="text-align: left;">2.683669</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wall.View.Range.Gene</td>
<td style="text-align: left;">0.1313843</td>
<td style="text-align: left;">-0.1305148</td>
<td style="text-align: left;">0.0166637</td>
<td style="text-align: left;">-2.3788810</td>
<td style="text-align: left;">2.7195210</td>
<td style="text-align: left;">-1.0645380</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wall.View.Range.Trait</td>
<td style="text-align: left;">5.131722</td>
<td style="text-align: left;">4.938622</td>
<td style="text-align: left;">5.046419</td>
<td style="text-align: left;">3.530812</td>
<td style="text-align: left;">7.309699</td>
<td style="text-align: left;">4.298796</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sheep.View.Range.Gene</td>
<td style="text-align: left;">1.7711210</td>
<td style="text-align: left;">1.5496080</td>
<td style="text-align: left;">2.7501400</td>
<td style="text-align: left;">-2.0088600</td>
<td style="text-align: left;">0.1356484</td>
<td style="text-align: left;">-1.8824000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sheep.View.Range.Trait</td>
<td style="text-align: left;">6.462865</td>
<td style="text-align: left;">6.272002</td>
<td style="text-align: left;">7.337697</td>
<td style="text-align: left;">3.731431</td>
<td style="text-align: left;">5.134914</td>
<td style="text-align: left;">3.802772</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Slime.Attraction.Gene</td>
<td style="text-align: left;">-0.9736148</td>
<td style="text-align: left;">-0.2611402</td>
<td style="text-align: left;">1.1806460</td>
<td style="text-align: left;">-2.3092990</td>
<td style="text-align: left;">2.6089730</td>
<td style="text-align: left;">-2.2889140</td>
</tr>
<tr class="even">
<td style="text-align: left;">Slime.Attraction.Trait</td>
<td style="text-align: left;">0.4394477</td>
<td style="text-align: left;">0.4836845</td>
<td style="text-align: left;">0.5732593</td>
<td style="text-align: left;">0.3595484</td>
<td style="text-align: left;">0.6575158</td>
<td style="text-align: left;">0.3607228</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tower.Attraction.Gene</td>
<td style="text-align: left;">-0.4425031</td>
<td style="text-align: left;">0.1107965</td>
<td style="text-align: left;">-6.3629560</td>
<td style="text-align: left;">2.1391270</td>
<td style="text-align: left;">1.3166820</td>
<td style="text-align: left;">3.1351720</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tower.Attraction.Trait</td>
<td style="text-align: left;">-0.29616710</td>
<td style="text-align: left;">-0.23185630</td>
<td style="text-align: left;">-0.77999960</td>
<td style="text-align: left;">0.01738906</td>
<td style="text-align: left;">-0.08520758</td>
<td style="text-align: left;">0.14095180</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Player.Attraction.Gene</td>
<td style="text-align: left;">-0.682144100</td>
<td style="text-align: left;">-0.007417813</td>
<td style="text-align: left;">3.359316000</td>
<td style="text-align: left;">-1.138752000</td>
<td style="text-align: left;">-3.313859000</td>
<td style="text-align: left;">2.257708000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Player.Attraction.Trait</td>
<td style="text-align: left;">0.01473093</td>
<td style="text-align: left;">0.09874988</td>
<td style="text-align: left;">0.47763400</td>
<td style="text-align: left;">-0.04231870</td>
<td style="text-align: left;">-0.30428250</td>
<td style="text-align: left;">0.36462820</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wall.Attraction.Gene</td>
<td style="text-align: left;">0.11956880</td>
<td style="text-align: left;">-0.57143210</td>
<td style="text-align: left;">-0.49371080</td>
<td style="text-align: left;">-0.95780370</td>
<td style="text-align: left;">2.63732400</td>
<td style="text-align: left;">0.07642503</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wall.Attraction.Trait</td>
<td style="text-align: left;">-0.8776227</td>
<td style="text-align: left;">-0.8949995</td>
<td style="text-align: left;">-0.8931594</td>
<td style="text-align: left;">-0.9037367</td>
<td style="text-align: left;">-0.7926000</td>
<td style="text-align: left;">-0.8787764</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sheep.Attraction.Gene</td>
<td style="text-align: left;">0.8572116</td>
<td style="text-align: left;">-1.4152040</td>
<td style="text-align: left;">-3.5675310</td>
<td style="text-align: left;">1.0647060</td>
<td style="text-align: left;">4.1666570</td>
<td style="text-align: left;">1.2193660</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sheep.Attraction.Trait</td>
<td style="text-align: left;">0.7710594</td>
<td style="text-align: left;">0.6561534</td>
<td style="text-align: left;">0.5270030</td>
<td style="text-align: left;">0.7800875</td>
<td style="text-align: left;">0.8851026</td>
<td style="text-align: left;">0.7866486</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Slime.Optimal.Distance.Gene</td>
<td style="text-align: left;">0.2664202</td>
<td style="text-align: left;">-1.7590030</td>
<td style="text-align: left;">-3.1496450</td>
<td style="text-align: left;">0.4679058</td>
<td style="text-align: left;">-0.4069065</td>
<td style="text-align: left;">0.4513546</td>
</tr>
<tr class="even">
<td style="text-align: left;">Slime.Optimal.Distance.Trait</td>
<td style="text-align: left;">0.27595890</td>
<td style="text-align: left;">0.03011549</td>
<td style="text-align: left;">-0.14272460</td>
<td style="text-align: left;">0.29906120</td>
<td style="text-align: left;">0.19654550</td>
<td style="text-align: left;">0.29717610</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Speed.Gene</td>
<td style="text-align: left;">2.670809</td>
<td style="text-align: left;">1.419246</td>
<td style="text-align: left;">2.097860</td>
<td style="text-align: left;">-1.671494</td>
<td style="text-align: left;">-1.217723</td>
<td style="text-align: left;">-1.739751</td>
</tr>
<tr class="even">
<td style="text-align: left;">Speed.Trait</td>
<td style="text-align: left;">3.594294</td>
<td style="text-align: left;">3.057428</td>
<td style="text-align: left;">3.342277</td>
<td style="text-align: left;">1.973656</td>
<td style="text-align: left;">2.109971</td>
<td style="text-align: left;">1.953825</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Turn.Rate.Gene</td>
<td style="text-align: left;">-2.0039470</td>
<td style="text-align: left;">0.9699734</td>
<td style="text-align: left;">0.2064506</td>
<td style="text-align: left;">-4.7445310</td>
<td style="text-align: left;">-0.2931280</td>
<td style="text-align: left;">0.6523061</td>
</tr>
<tr class="even">
<td style="text-align: left;">Turn.Rate.Trait</td>
<td style="text-align: left;">0.1190994</td>
<td style="text-align: left;">0.2214034</td>
<td style="text-align: left;">0.1902499</td>
<td style="text-align: left;">0.0637966</td>
<td style="text-align: left;">0.1717490</td>
<td style="text-align: left;">0.2080165</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sprint.Duration.Gene</td>
<td style="text-align: left;">0.3580502</td>
<td style="text-align: left;">-3.5267780</td>
<td style="text-align: left;">-2.8798950</td>
<td style="text-align: left;">-1.8273190</td>
<td style="text-align: left;">1.3285910</td>
<td style="text-align: left;">5.9572890</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sprint.Duration.Trait</td>
<td style="text-align: left;">2.611816</td>
<td style="text-align: left;">1.464134</td>
<td style="text-align: left;">1.636994</td>
<td style="text-align: left;">1.938691</td>
<td style="text-align: left;">2.911409</td>
<td style="text-align: left;">4.079883</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sprint.Cooldown.Gene</td>
<td style="text-align: left;">0.1790418</td>
<td style="text-align: left;">4.8556380</td>
<td style="text-align: left;">1.3212770</td>
<td style="text-align: left;">-2.8306380</td>
<td style="text-align: left;">-3.1959230</td>
<td style="text-align: left;">2.3105360</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sprint.Cooldown.Trait</td>
<td style="text-align: left;">2.7232060</td>
<td style="text-align: left;">4.9613790</td>
<td style="text-align: left;">3.9469710</td>
<td style="text-align: left;">0.2784542</td>
<td style="text-align: left;">0.1965971</td>
<td style="text-align: left;">4.5487290</td>
</tr>
<tr class="odd">
<td style="text-align: left;">X</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">file</td>
<td style="text-align: left;">./geneWriteFile08_11_2023_01-36-07.csv</td>
<td style="text-align: left;">./geneWriteFile08_11_2023_01-36-07.csv</td>
<td style="text-align: left;">./geneWriteFile08_11_2023_01-36-07.csv</td>
<td style="text-align: left;">./geneWriteFile08_11_2023_01-36-07.csv</td>
<td style="text-align: left;">./geneWriteFile08_11_2023_01-36-07.csv</td>
<td style="text-align: left;">./geneWriteFile08_11_2023_01-36-07.csv</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Unique.Slime.ID</td>
<td style="text-align: left;">0 . 0</td>
<td style="text-align: left;">0 . 1</td>
<td style="text-align: left;">0 . 2</td>
<td style="text-align: left;">0 . 3</td>
<td style="text-align: left;">0 . 4</td>
<td style="text-align: left;">0 . 5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Unique.Parent.One</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Unique.Parent.Two</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
<td style="text-align: left;">-1 . N/A</td>
</tr>
<tr class="even">
<td style="text-align: left;">offspring_count</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Generation</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">offspring.count.Fitness</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">reproduce</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="even">
<td style="text-align: left;">LResist.Trait</td>
<td style="text-align: left;">0.4</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.4</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.6</td>
<td style="text-align: left;">0.4</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Variables that end in <code>.Gene</code> are the values of the genome for that particular locus. Variables that end in <code>.Trait</code> are the values of the trait for that particular locus. Variables that end in <code>.Fitness</code> are the values of that particular Fitness component.</p>
</section>
<section id="experimental-conditions" class="level2">
<h2 class="anchored" data-anchor-id="experimental-conditions">EXPERIMENTAL CONDITIONS</h2>
<p>In this situation, I’m interested in what types of Data Literacy exercises I can incorporate between generations of the game, especially in the first few generations. We often show players time series graphs of trait values over time, but these don’t tend to make much sense until 5 to 10 generations have occurred.</p>
<p>Here, I’m going to explore some visualizations that summarize what happened in the generation that the player most recently completed.</p>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">RESULTS</h2>
<section id="slime-types" class="level3">
<h3 class="anchored" data-anchor-id="slime-types">Slime Types</h3>
<p>Each Slime has a <code>Main.Type</code> and a <code>Secondary.Type</code>. These types use the <code>~.Resistance.~</code> category to confer resistance to the appropriate damage type.</p>
<p>The following code creates two summary dataframes with the suffix <code>~Typecounts</code> that count the number of slimes of each <code>~.Type</code> in each generation for each replicate. It then creates the graphs of <code>~Type</code> frequency over time.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>MainTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Main.Type, Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Main.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>SecondaryTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Secondary.Type, Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Secondary.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts, <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Main.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Main.Type))) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Main Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(SecondaryTypecounts, <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Secondary.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Secondary.Type))) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Secondary Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="generation-0" class="level2">
<h2 class="anchored" data-anchor-id="generation-0">GENERATION 0</h2>
<p>You’ve defeated the first generation of slimes! Our sensors indicate that the slimes have different types, that we’ve named Fire, Player, Lightning, Ice, Laser, Acid, Balanced, Blaster.</p>
<p>Here is a graph showing the frequencies of the slime types in the wave you just defeated.</p>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>slime_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"green"</span>, <span class="st">"grey"</span>, <span class="st">"darkred"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"lightgreen"</span>,<span class="st">"black"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation<span class="sc">==</span><span class="dv">0</span>), <span class="fu">aes</span>(<span class="at">x=</span>Main.Type, <span class="at">y =</span> Main.count, <span class="at">fill =</span> Main.Type))<span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Frequency of slime type (Main.Type) in the previous wave.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>Let’s test your data skills! Based on this graph, what was the most common slime type in the most recent wave?</p>
<p>Great job! I wonder if these slime types have any special characteristics that would affect your strategy?</p>
</section>
<section id="generation-1" class="level2">
<h2 class="anchored" data-anchor-id="generation-1">GENERATION 1</h2>
<p>Well done again! You’ve survived another wave of slime attacks. We are collecting more data on these mysterious creatures.</p>
<p>It looks like each wave of slimes is actually the offspring of the previous wave! Our sensors are able to detect the number of offspring that each slime you just defeated will have. Check this out! Here is graph that summarizes the distribution of the number of offspring.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles<span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">1</span>),</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Offspring Count"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of Offspring"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">150</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">150</span>, <span class="at">by =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Best <span class="ot">&lt;-</span> allfiles<span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation<span class="sc">==</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>How many slimes do you think will contribute NO offspring to the next wave?</p>
<p>Something to think about: There are a couple slimes that had LOTS of offspring, and one that even had 85 offspring! What made them so special? Why were they able to have so many offspring?</p>
</section>
<section id="generation-2" class="level2">
<h2 class="anchored" data-anchor-id="generation-2">GENERATION 2</h2>
<p>That was close! Let’s analyze what is going on! We think we’ve figured out what can explain the difference in the number of offspring! It looks like the slime that get closest to the player tend to have the most babies! Check this out!</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles<span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span><span class="dv">2</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>Path.Distance.To.Player, <span class="at">y=</span>offspring_count))<span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>Main.Type))<span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of Offspring is related to Player Distance"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Closest distance from player"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span> </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Note that these graphs are interactive! You can get all sorts of information from them by hovering or clicking on them! Try to use that approach to figure out the Slime Type of the slime that had the MOST offspring! Was it the same slime that got closest to the player?</p>
</section>
<section id="generation-3" class="level2">
<h2 class="anchored" data-anchor-id="generation-3">GENERATION 3</h2>
<p>How are those pesky slimes getting close to you? Let’s look at some of the traits that might explain how they are getting through your defenses.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>MainTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Main.Type, Generation, Wave.Number, file) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Main.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>SecondaryTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Secondary.Type, Generation, Wave.Number, file) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Secondary.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Wave.Number<span class="sc">&lt;</span><span class="dv">4</span>), <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Main.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Main.Type))) <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Main Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> slime_palette)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Wave.Number<span class="sc">&lt;</span><span class="dv">4</span>), <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Main.count, <span class="at">color =</span> <span class="fu">as.factor</span>(Main.Type))) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>Main.Type)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Main Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(SecondaryTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Wave.Number<span class="sc">&lt;</span><span class="dv">4</span>), <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Secondary.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Secondary.Type))) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Secondary Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>These graphs will help you understand how the population of slimes is changing over time in response to your defenses.</p>
<p>What type of slime is the most common in the last generation?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles<span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Main.Type, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> Main.Type), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>FitAvgType <span class="ot">&lt;-</span> allfiles<span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation, Wave.Number, Main.Type) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Fitness"</span>), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">var =</span> var, <span class="at">sum =</span> sum), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">.names =</span> <span class="st">"{.fn}.{.col}"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'file', 'Generation', 'Wave.Number'. You
can override using the `.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(FitAvgType<span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span> Main.Type, <span class="at">y =</span> sum.offspring.count.Fitness))<span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(offspring_count) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Unique.Slime.ID =</span> <span class="fu">factor</span>(Unique.Slime.ID, <span class="at">levels =</span> Unique.Slime.ID),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_offspring =</span> <span class="fu">cumsum</span>(offspring_count),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>           <span class="co"># Create discrete bins for cumulative_offspring with labels</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_bins =</span> <span class="fu">cut</span>(cumulative_offspring, </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">breaks =</span> <span class="fu">quantile</span>(cumulative_offspring, </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.9</span>, <span class="fl">0.95</span>, <span class="dv">1</span>)),</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span>)))</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Main.Type)) <span class="sc">+</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Offspring Count"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slimes"</span>,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)<span class="sc">+</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> slime_palette)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Scale for fill is already present.
Adding another scale for fill, which will replace the existing scale.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="slime-fitness" class="level2">
<h2 class="anchored" data-anchor-id="slime-fitness">Slime Fitness</h2>
<p>In most cases, it is useful to summarize the behavior of the fitness function for each experiment. In this case, the fitness function calculates a value of 50,000/(distance to player +1). I will also reverse calculate that for visualization, showing the actual distance to the player (<code>Path.Distance.To.Player</code>). We then use Roulette Wheel selection to determine the parents of the next generation.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles, <span class="fu">aes</span>(<span class="at">x=</span>Wave.Number, <span class="at">y=</span> Path.Distance.To.Player))<span class="sc">+</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">x=</span>Wave.Number, <span class="at">y=</span> Path.Distance.To.Player, <span class="at">color =</span> offspring_count, <span class="at">alpha =</span> offspring_count))<span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_continuous</span>(<span class="at">low=</span><span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">80</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = "cs")'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Computation failed in `stat_smooth()`
Caused by error in `smooth.construct.cr.smooth.spec()`:
! x has insufficient unique values to support 10 knots: reduce k.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 227 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(offspring_count) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Unique.Slime.ID =</span> <span class="fu">factor</span>(Unique.Slime.ID, <span class="at">levels =</span> Unique.Slime.ID),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_offspring =</span> <span class="fu">cumsum</span>(offspring_count),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>           <span class="co"># Create discrete bins for cumulative_offspring with labels</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_bins =</span> <span class="fu">cut</span>(cumulative_offspring, </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">breaks =</span> <span class="fu">quantile</span>(cumulative_offspring, </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.9</span>, <span class="fl">0.95</span>, <span class="dv">1</span>)),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span>)))</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cumulative_bins)) <span class="sc">+</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Unique.Slime.ID, <span class="at">y =</span> cumulative_offspring, <span class="at">group =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Offspring Count"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slime ID"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> cumulative_offspring)) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cumulative_bins)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Offspring Count"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slime ID"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>these plots might be useful as a starting point. The ideas would be to show the player that not all slimes have the same number of babies. Then we would challenge them as to why that is happening.</p>
<p>The next step would be to show them that the number of babies is related to the fitness function of the game. In this case that is how close they get to the player.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> Path.Distance.To.Player)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Path Distance to Player"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slime ID"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Path Distance to Player"</span>) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Path.Distance.To.Player)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Path Distance to Player"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Path Distance to Player"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x=</span>Path.Distance.To.Player, <span class="at">y=</span> offspring_count))<span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> cumulative_offspring))<span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_gradient</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x=</span>Player.Distance.Fitness, <span class="at">y=</span> offspring_count))<span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> cumulative_offspring))<span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_gradient</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>So the closer they get to the player, the more babies they have.</p>
<p>Next, we have to figure out what traits might explain how they are getting so close!</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>slime_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"green"</span>, <span class="st">"grey"</span>, <span class="st">"darkred"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"lightgreen"</span>,<span class="st">"black"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df_sorted is your data frame</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Main.Type, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> Main.Type), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Secondary.Type, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> Secondary.Type), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This would be for slime type. What about the traits?</p>
</section>
<section id="evolutionary-responses" class="level2">
<h2 class="anchored" data-anchor-id="evolutionary-responses">Evolutionary Responses</h2>
<p>To estimate what traits might be under selection, we can calculate selection gradients for each trait. This is essentially the slope of the line between <code>offspring_count</code> and the Trait.</p>
<p>For each Trait, we should also try to understand its individual evolutionary trajectory. Is the population mean for the trait increasing or decreasing?</p>
<p>Since the first thing we are interested in is Damage Resistance conferred by Type, we’ll calculate Lightning resistance directly.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>allfiles <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LResist.Trait =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">1.0</span>,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.6</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.4</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>traittemp <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Generation, offspring_count, file, LResist.Trait) <span class="sc">%&gt;%</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST0 =</span> <span class="fu">as.vector</span>(<span class="fu">scale</span>(LResist.Trait, <span class="at">center =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST02 =</span> scaleST0 <span class="sc">*</span> scaleST0) <span class="sc">%&gt;%</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Generation =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Generation)))</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> traittemp <span class="sc">%&gt;%</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>({</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    model <span class="ot">&lt;-</span> <span class="fu">lm</span>(offspring_count <span class="sc">~</span> scaleST0 <span class="sc">+</span> scaleST02, <span class="at">data =</span> .)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">Beta =</span> <span class="fu">coefficients</span>(model)[<span class="dv">2</span>],</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">PB =</span> <span class="fu">summary</span>(model)<span class="sc">$</span>coef[<span class="dv">2</span>, <span class="dv">4</span>],</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">Trait =</span> <span class="st">"LResist.Trait"</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> Gradients <span class="sc">%&gt;%</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">if_else</span>(PB <span class="sc">&lt;</span> <span class="fl">0.05</span> , <span class="st">"Y"</span>, <span class="st">"N"</span>))</span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>TraitAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Trait"</span>), mean,  <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'file'. You can override using the
`.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_Gen <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_Gen, <span class="fu">aes</span>(<span class="at">x=</span>LResist.Trait, <span class="at">y =</span> offspring_count))<span class="sc">+</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> LResist.Trait))<span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> LResist.Trait), <span class="at">method =</span> <span class="st">"loess"</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Gradients, <span class="fu">aes</span>(<span class="at">x=</span>Generation, <span class="at">y =</span> Beta))<span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> sig))<span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">fill=</span><span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>,<span class="st">"red"</span>))<span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-13-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now we’ll perform a similar analysis for the remaining traits.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>Gradientslong <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(Traits)){</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>traittemp<span class="ot">&lt;-</span>allfiles<span class="sc">%&gt;%</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Generation, offspring_count, file, <span class="sc">!!</span><span class="fu">sym</span>(Traits[i]))<span class="sc">%&gt;%</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file)<span class="sc">%&gt;%</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST0 =</span> <span class="fu">as.vector</span>(<span class="fu">scale</span>(<span class="sc">!!</span><span class="fu">sym</span>(Traits[i]), <span class="at">center =</span> <span class="cn">TRUE</span>)))<span class="sc">%&gt;%</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST02 =</span> scaleST0<span class="sc">*</span>scaleST0)<span class="sc">%&gt;%</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Generation =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Generation)))</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> traittemp <span class="sc">%&gt;%</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>({</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    model <span class="ot">&lt;-</span> <span class="fu">lm</span>(offspring_count <span class="sc">~</span> scaleST0 <span class="sc">+</span> scaleST02, <span class="at">data =</span> .)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">Beta =</span> <span class="fu">coefficients</span>(model)[<span class="dv">2</span>],</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">PB =</span> <span class="fu">summary</span>(model)<span class="sc">$</span>coef[<span class="dv">2</span>, <span class="dv">4</span>],</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">Trait =</span> Traits[i]</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> Gradients <span class="sc">%&gt;%</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">if_else</span>(PB <span class="sc">&lt;</span> <span class="fl">0.05</span> , <span class="st">"Y"</span>, <span class="st">"N"</span>))</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>Gradientslong <span class="ot">&lt;-</span> <span class="fu">rbind</span>(Gradientslong, Gradients)</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>G <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> GeneAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Genes[i])))<span class="sc">+</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data =</span> allfiles, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Genes[i])), <span class="at">size=</span><span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.02</span>)<span class="sc">+</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">data =</span> GeneAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(<span class="fu">paste</span>(<span class="st">"mean."</span>,Genes[i], <span class="at">sep =</span> <span class="st">""</span>)), <span class="at">method =</span> <span class="st">"loess"</span>)) <span class="sc">+</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>) </span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>P <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Traits[i])))<span class="sc">+</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Traits[i])), <span class="at">method =</span> <span class="st">"loess"</span>) <span class="sc">+</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data=</span>allfiles, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Traits[i]), <span class="at">color =</span> offspring_count), <span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span><span class="fl">0.1</span>)<span class="sc">+</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>) </span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>S <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Gradients, <span class="fu">aes</span>(<span class="at">x=</span>Generation, <span class="at">y =</span> Beta))<span class="sc">+</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> sig))<span class="sc">+</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">fill=</span><span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>,<span class="st">"red"</span>))<span class="sc">+</span></span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(G)</span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(P)</span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(S)</span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-11.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-12.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-13.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-14.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-15.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-16.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-17.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-18.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-19.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-20.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_smooth(data = GeneAvg, aes(x = as.numeric(Generation), y =
!!sym(paste("mean.", : Ignoring unknown aesthetics: method</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-21.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-22.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-23.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-24.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="heatmap" class="level2">
<h2 class="anchored" data-anchor-id="heatmap">Heatmap</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>GradMatrix <span class="ot">&lt;-</span> Gradientslong <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Generation, Trait, Beta)<span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Trait, <span class="at">values_from =</span> Beta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Adding missing grouping variables: `file`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>paletteLength <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>myColor <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"white"</span>, <span class="st">"#ED2024"</span>))(paletteLength)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co"># length(breaks) == length(paletteLength) + 1</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="co"># use floor and ceiling to deal with even/odd length pallettelengths</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>Heatmap <span class="ot">&lt;-</span> GradMatrix <span class="sc">%&gt;%</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()<span class="sc">%&gt;%</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Main.Resistance.Trait, Secondary.Resistance.Trait, Slime.View.Range.Trait, </span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>         Tower.View.Range.Trait, </span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>         Tower.Attraction.Trait, Slime.Optimal.Distance.Trait, </span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>         Speed.Trait, Turn.Rate.Trait)</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>Heatmatrix2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(Heatmap)</span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>myBreaks2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="fu">min</span>(Heatmatrix2), <span class="dv">0</span>, <span class="at">length.out=</span><span class="fu">ceiling</span>(paletteLength<span class="sc">/</span><span class="dv">2</span>) <span class="sc">+</span> <span class="dv">1</span>), <span class="fu">seq</span>(<span class="fu">max</span>(Heatmatrix2)<span class="sc">/</span>paletteLength, <span class="fu">max</span>(Heatmatrix2), </span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>                                                                                      <span class="at">length.out=</span><span class="fu">floor</span>(paletteLength<span class="sc">/</span><span class="dv">2</span>)))</span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a>heatmap2 <span class="ot">=</span> <span class="fu">pheatmap</span>(Heatmatrix2,</span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">cluster_rows =</span> <span class="cn">FALSE</span>, <span class="co"># don't cluster rows</span></span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">cluster_cols =</span> <span class="cn">TRUE</span>, <span class="co"># don't cluster columns</span></span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_distance_cols =</span> <span class="st">"euclidean"</span>,</span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_distance_rows =</span> <span class="st">"euclidean"</span>,</span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_method =</span> <span class="st">"complete"</span>,</span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> myColor,</span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">breaks =</span> myBreaks2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="single-generation-plots" class="level2">
<h2 class="anchored" data-anchor-id="single-generation-plots">SINGLE GENERATION PLOTS</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>singlegen <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">5</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>singlegrad <span class="ot">&lt;-</span> Gradientslong <span class="sc">%&gt;%</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(singlegen, <span class="fu">aes</span>(<span class="at">x=</span>Speed.Trait) )<span class="sc">+</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(reproduce<span class="sc">~</span>file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(singlegen, <span class="fu">aes</span>(<span class="at">x=</span>Turn.Rate.Trait) )<span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(reproduce<span class="sc">~</span>file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(singlegen, <span class="fu">aes</span>(<span class="at">x=</span>Turn.Rate.Trait, <span class="at">y =</span> Speed.Trait, <span class="at">color =</span> reproduce))<span class="sc">+</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid" width="672"></p>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb78" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Embedding Data Literacy Content in Project TwinStick"</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "1 - Single Generation Graphs"</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "How can we embed Data Literacy exercises for the early game?"</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Barrie D. Robison"</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "August 17, 2023"</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [TwinStick, Evolution, Data Science]</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true  </span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>Is it really an *Evolutionary* game?</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>When we are developing our games, we perform extensive testing to make sure the underlying biological models are performing as expected. In the case of evolutionary games, we need to test that the population of enemies is indeed adapting the game conditions as we intended. This post is (I hope) the first in a series in which we document those tests.</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>My hope is that performing these tests in this format will serve as an organized archive of our analyses, improving reproducibility and rigor. I also have a vain glimmer of hope that some person other than me might actually be interested in this topic.</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a><span class="fu">## PROJECT TWIN STICK</span></span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>This is intended to be an evolutionary shooter. The game is described in detail <span class="co">[</span><span class="ot">here</span><span class="co">](https://professorpolymorphic.github.io/PolymorphicWeb/Games/TwinStick/)</span>.</span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a><span class="fu">## DATA</span></span>
<span id="cb78-23"><a href="#cb78-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-24"><a href="#cb78-24" aria-hidden="true" tabindex="-1"></a>In this section, we ingest the data from whatever runs are relevant to the analysis. The data are written from the project in <span class="in">`.csv`</span> files. The following code reads all <span class="in">`.csv`</span> files from the working directory. It creates new variables for the source file name (<span class="in">`file`</span>) and the number of offspring produced by each individual (<span class="in">`offspring_count`</span>). It then appends all the data files into a single data frame called <span class="in">`allfiles`</span>. I also create a few aggregations of the data by generating mean values of interest (traits, genes, fitness estimates) for each generation in each file (<span class="in">`TraitAvg`</span>, <span class="in">`GeneAvg`</span>, <span class="in">`FitAvg`</span>)</span>
<span id="cb78-25"><a href="#cb78-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-28"><a href="#cb78-28" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-29"><a href="#cb78-29" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb78-30"><a href="#cb78-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-31"><a href="#cb78-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb78-32"><a href="#cb78-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pheatmap)</span>
<span id="cb78-33"><a href="#cb78-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-34"><a href="#cb78-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-35"><a href="#cb78-35" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">"*.csv"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb78-36"><a href="#cb78-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-37"><a href="#cb78-37" aria-hidden="true" tabindex="-1"></a>allfiles <span class="ot">=</span> <span class="fu">data.frame</span>()</span>
<span id="cb78-38"><a href="#cb78-38" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(csv <span class="cf">in</span> files){</span>
<span id="cb78-39"><a href="#cb78-39" aria-hidden="true" tabindex="-1"></a>  Twin3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(csv, <span class="at">as.is=</span>T, <span class="at">header=</span>T)</span>
<span id="cb78-40"><a href="#cb78-40" aria-hidden="true" tabindex="-1"></a>  Twin3[<span class="st">'file'</span>] <span class="ot">=</span> csv</span>
<span id="cb78-41"><a href="#cb78-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-42"><a href="#cb78-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-43"><a href="#cb78-43" aria-hidden="true" tabindex="-1"></a>Twin3<span class="ot">&lt;-</span>Twin3<span class="sc">%&gt;%</span></span>
<span id="cb78-44"><a href="#cb78-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unique.Slime.ID =</span> <span class="fu">paste</span>(Wave.Number, <span class="st">"."</span>, Slime.ID))<span class="sc">%&gt;%</span></span>
<span id="cb78-45"><a href="#cb78-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unique.Parent.One =</span> <span class="fu">paste</span>(Wave.Number<span class="dv">-1</span>, <span class="st">"."</span>, Parent.One))<span class="sc">%&gt;%</span></span>
<span id="cb78-46"><a href="#cb78-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unique.Parent.Two =</span> <span class="fu">paste</span>(Wave.Number<span class="dv">-1</span>, <span class="st">"."</span>, Parent.Two))</span>
<span id="cb78-47"><a href="#cb78-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-48"><a href="#cb78-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-49"><a href="#cb78-49" aria-hidden="true" tabindex="-1"></a>df_parents <span class="ot">&lt;-</span> Twin3 <span class="sc">%&gt;%</span></span>
<span id="cb78-50"><a href="#cb78-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Unique.Parent.One, Unique.Parent.Two) <span class="sc">%&gt;%</span></span>
<span id="cb78-51"><a href="#cb78-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"parent_type"</span>, <span class="at">values_to =</span> <span class="st">"parent_id"</span>)</span>
<span id="cb78-52"><a href="#cb78-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-53"><a href="#cb78-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of offspring for each parent</span></span>
<span id="cb78-54"><a href="#cb78-54" aria-hidden="true" tabindex="-1"></a>offspring_counts <span class="ot">&lt;-</span> df_parents <span class="sc">%&gt;%</span></span>
<span id="cb78-55"><a href="#cb78-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parent_id) <span class="sc">%&gt;%</span></span>
<span id="cb78-56"><a href="#cb78-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">offspring_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb78-57"><a href="#cb78-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-58"><a href="#cb78-58" aria-hidden="true" tabindex="-1"></a>offspring_counts <span class="ot">&lt;-</span> offspring_counts<span class="sc">%&gt;%</span></span>
<span id="cb78-59"><a href="#cb78-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(parent_id <span class="sc">!=</span> <span class="st">"-1 . N/A"</span>)</span>
<span id="cb78-60"><a href="#cb78-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-61"><a href="#cb78-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-62"><a href="#cb78-62" aria-hidden="true" tabindex="-1"></a>offspring_counts<span class="ot">&lt;-</span> <span class="fu">rename</span>(offspring_counts, <span class="at">Unique.Slime.ID =</span> parent_id)</span>
<span id="cb78-63"><a href="#cb78-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-64"><a href="#cb78-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-65"><a href="#cb78-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-66"><a href="#cb78-66" aria-hidden="true" tabindex="-1"></a>Twin3 <span class="ot">&lt;-</span> Twin3 <span class="sc">%&gt;%</span></span>
<span id="cb78-67"><a href="#cb78-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(offspring_counts, <span class="at">by =</span> <span class="st">"Unique.Slime.ID"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb78-68"><a href="#cb78-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">offspring_count =</span> <span class="dv">0</span>))</span>
<span id="cb78-69"><a href="#cb78-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-70"><a href="#cb78-70" aria-hidden="true" tabindex="-1"></a>allfiles<span class="ot">&lt;-</span><span class="fu">rbind</span>(allfiles,Twin3)</span>
<span id="cb78-71"><a href="#cb78-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-72"><a href="#cb78-72" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb78-73"><a href="#cb78-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-74"><a href="#cb78-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-75"><a href="#cb78-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-76"><a href="#cb78-76" aria-hidden="true" tabindex="-1"></a>Traits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Main.Resistance.Trait"</span>, <span class="st">"Secondary.Resistance.Trait"</span>, <span class="st">"Speed.Trait"</span>,</span>
<span id="cb78-77"><a href="#cb78-77" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Tower.Attraction.Trait"</span>, <span class="st">"Slime.Optimal.Distance.Trait"</span>, <span class="st">"Turn.Rate.Trait"</span>, </span>
<span id="cb78-78"><a href="#cb78-78" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Slime.View.Range.Trait"</span>, <span class="st">"Tower.View.Range.Trait"</span>)</span>
<span id="cb78-79"><a href="#cb78-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-80"><a href="#cb78-80" aria-hidden="true" tabindex="-1"></a>Genes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Main.Resistance.Gene"</span>, <span class="st">"Secondary.Resistance.Gene"</span>, <span class="st">"Speed.Gene"</span>,</span>
<span id="cb78-81"><a href="#cb78-81" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Tower.Attraction.Gene"</span>, <span class="st">"Slime.Optimal.Distance.Gene"</span>, <span class="st">"Turn.Rate.Gene"</span>, </span>
<span id="cb78-82"><a href="#cb78-82" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Slime.View.Range.Gene"</span>, <span class="st">"Tower.View.Range.Gene"</span>)</span>
<span id="cb78-83"><a href="#cb78-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-84"><a href="#cb78-84" aria-hidden="true" tabindex="-1"></a>allfiles<span class="ot">&lt;-</span>allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-85"><a href="#cb78-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Generation=</span><span class="fu">as.factor</span>(Wave.Number))<span class="sc">%&gt;%</span></span>
<span id="cb78-86"><a href="#cb78-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">offspring.count.Fitness =</span> offspring_count)<span class="sc">%&gt;%</span></span>
<span id="cb78-87"><a href="#cb78-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reproduce =</span> <span class="fu">if_else</span>(offspring_count <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"N"</span>, <span class="st">"Y"</span>))</span>
<span id="cb78-88"><a href="#cb78-88" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb78-89"><a href="#cb78-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-90"><a href="#cb78-90" aria-hidden="true" tabindex="-1"></a>TraitAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-91"><a href="#cb78-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb78-92"><a href="#cb78-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Trait"</span>), mean,  <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb78-93"><a href="#cb78-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-94"><a href="#cb78-94" aria-hidden="true" tabindex="-1"></a>GeneAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-95"><a href="#cb78-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb78-96"><a href="#cb78-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Gene"</span>), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">var =</span> var), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">.names =</span> <span class="st">"{.fn}.{.col}"</span>))</span>
<span id="cb78-97"><a href="#cb78-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-98"><a href="#cb78-98" aria-hidden="true" tabindex="-1"></a>FitAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-99"><a href="#cb78-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb78-100"><a href="#cb78-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Fitness"</span>), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">var =</span> var), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">.names =</span> <span class="st">"{.fn}.{.col}"</span>))</span>
<span id="cb78-101"><a href="#cb78-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-102"><a href="#cb78-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-103"><a href="#cb78-103" aria-hidden="true" tabindex="-1"></a>allfiles <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-104"><a href="#cb78-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LResist.Trait =</span> <span class="fu">case_when</span>(</span>
<span id="cb78-105"><a href="#cb78-105" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">1.0</span>,</span>
<span id="cb78-106"><a href="#cb78-106" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.6</span>,</span>
<span id="cb78-107"><a href="#cb78-107" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.4</span>,</span>
<span id="cb78-108"><a href="#cb78-108" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb78-109"><a href="#cb78-109" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb78-110"><a href="#cb78-110" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-111"><a href="#cb78-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-112"><a href="#cb78-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-113"><a href="#cb78-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-114"><a href="#cb78-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-115"><a href="#cb78-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-116"><a href="#cb78-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-117"><a href="#cb78-117" aria-hidden="true" tabindex="-1"></a>The <span class="in">`allfiles`</span> dataframe contains the following variables (I also show a few columns of the example data):</span>
<span id="cb78-118"><a href="#cb78-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-121"><a href="#cb78-121" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-122"><a href="#cb78-122" aria-hidden="true" tabindex="-1"></a>data.dictionary <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.data.frame</span>(<span class="fu">head</span>(allfiles)))</span>
<span id="cb78-123"><a href="#cb78-123" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(data.dictionary)</span>
<span id="cb78-124"><a href="#cb78-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-125"><a href="#cb78-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-126"><a href="#cb78-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-127"><a href="#cb78-127" aria-hidden="true" tabindex="-1"></a>Variables that end in <span class="in">`.Gene`</span> are the values of the genome for that particular locus. Variables that end in <span class="in">`.Trait`</span> are the values of the trait for that particular locus. Variables that end in <span class="in">`.Fitness`</span> are the values of that particular Fitness component.</span>
<span id="cb78-128"><a href="#cb78-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-129"><a href="#cb78-129" aria-hidden="true" tabindex="-1"></a><span class="fu">## EXPERIMENTAL CONDITIONS</span></span>
<span id="cb78-130"><a href="#cb78-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-131"><a href="#cb78-131" aria-hidden="true" tabindex="-1"></a>In this situation, I'm interested in what types of Data Literacy exercises I can incorporate between generations of the game, especially in the first few generations. We often show players time series graphs of trait values over time, but these don't tend to make much sense until 5 to 10 generations have occurred.</span>
<span id="cb78-132"><a href="#cb78-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-133"><a href="#cb78-133" aria-hidden="true" tabindex="-1"></a>Here, I'm going to explore some visualizations that summarize what happened in the generation that the player most recently completed.</span>
<span id="cb78-134"><a href="#cb78-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-135"><a href="#cb78-135" aria-hidden="true" tabindex="-1"></a><span class="fu">## RESULTS</span></span>
<span id="cb78-136"><a href="#cb78-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-137"><a href="#cb78-137" aria-hidden="true" tabindex="-1"></a><span class="fu">### Slime Types</span></span>
<span id="cb78-138"><a href="#cb78-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-139"><a href="#cb78-139" aria-hidden="true" tabindex="-1"></a>Each Slime has a <span class="in">`Main.Type`</span> and a <span class="in">`Secondary.Type`</span>. These types use the <span class="in">`~.Resistance.~`</span> category to confer resistance to the appropriate damage type.</span>
<span id="cb78-140"><a href="#cb78-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-141"><a href="#cb78-141" aria-hidden="true" tabindex="-1"></a>The following code creates two summary dataframes with the suffix <span class="in">`~Typecounts`</span> that count the number of slimes of each <span class="in">`~.Type`</span> in each generation for each replicate. It then creates the graphs of <span class="in">`~Type`</span> frequency over time.</span>
<span id="cb78-142"><a href="#cb78-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-145"><a href="#cb78-145" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-146"><a href="#cb78-146" aria-hidden="true" tabindex="-1"></a>MainTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-147"><a href="#cb78-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Main.Type, Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-148"><a href="#cb78-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Main.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb78-149"><a href="#cb78-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-150"><a href="#cb78-150" aria-hidden="true" tabindex="-1"></a>SecondaryTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-151"><a href="#cb78-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Secondary.Type, Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-152"><a href="#cb78-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Secondary.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb78-153"><a href="#cb78-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-154"><a href="#cb78-154" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb78-155"><a href="#cb78-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-156"><a href="#cb78-156" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts, <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Main.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Main.Type))) <span class="sc">+</span></span>
<span id="cb78-157"><a href="#cb78-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb78-158"><a href="#cb78-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Main Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb78-159"><a href="#cb78-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb78-160"><a href="#cb78-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb78-161"><a href="#cb78-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-162"><a href="#cb78-162" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(SecondaryTypecounts, <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Secondary.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Secondary.Type))) <span class="sc">+</span></span>
<span id="cb78-163"><a href="#cb78-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb78-164"><a href="#cb78-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Secondary Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb78-165"><a href="#cb78-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb78-166"><a href="#cb78-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb78-167"><a href="#cb78-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-168"><a href="#cb78-168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-169"><a href="#cb78-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-170"><a href="#cb78-170" aria-hidden="true" tabindex="-1"></a><span class="fu">## GENERATION 0</span></span>
<span id="cb78-171"><a href="#cb78-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-172"><a href="#cb78-172" aria-hidden="true" tabindex="-1"></a>You've defeated the first generation of slimes! Our sensors indicate that the slimes have different types, that we've named <span class="in">`r unique(allfiles$Main.Type)`</span>.</span>
<span id="cb78-173"><a href="#cb78-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-174"><a href="#cb78-174" aria-hidden="true" tabindex="-1"></a>Here is a graph showing the frequencies of the slime types in the wave you just defeated.</span>
<span id="cb78-175"><a href="#cb78-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-178"><a href="#cb78-178" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-179"><a href="#cb78-179" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 1</span></span>
<span id="cb78-180"><a href="#cb78-180" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: </span></span>
<span id="cb78-181"><a href="#cb78-181" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Frequency of slime type (Main.Type) in the previous wave."</span></span>
<span id="cb78-182"><a href="#cb78-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-183"><a href="#cb78-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-184"><a href="#cb78-184" aria-hidden="true" tabindex="-1"></a>slime_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"green"</span>, <span class="st">"grey"</span>, <span class="st">"darkred"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"lightgreen"</span>,<span class="st">"black"</span>)</span>
<span id="cb78-185"><a href="#cb78-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-186"><a href="#cb78-186" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb78-187"><a href="#cb78-187" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation<span class="sc">==</span><span class="dv">0</span>), <span class="fu">aes</span>(<span class="at">x=</span>Main.Type, <span class="at">y =</span> Main.count, <span class="at">fill =</span> Main.Type))<span class="sc">+</span></span>
<span id="cb78-188"><a href="#cb78-188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb78-189"><a href="#cb78-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb78-190"><a href="#cb78-190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb78-191"><a href="#cb78-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-192"><a href="#cb78-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-193"><a href="#cb78-193" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-194"><a href="#cb78-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-195"><a href="#cb78-195" aria-hidden="true" tabindex="-1"></a>Let's test your data skills! Based on this graph, what was the most common slime type in the most recent wave?</span>
<span id="cb78-196"><a href="#cb78-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-197"><a href="#cb78-197" aria-hidden="true" tabindex="-1"></a>Great job! I wonder if these slime types have any special characteristics that would affect your strategy?</span>
<span id="cb78-198"><a href="#cb78-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-199"><a href="#cb78-199" aria-hidden="true" tabindex="-1"></a><span class="fu">## GENERATION 1</span></span>
<span id="cb78-200"><a href="#cb78-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-201"><a href="#cb78-201" aria-hidden="true" tabindex="-1"></a>Well done again! You've survived another wave of slime attacks. We are collecting more data on these mysterious creatures.</span>
<span id="cb78-202"><a href="#cb78-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-203"><a href="#cb78-203" aria-hidden="true" tabindex="-1"></a>It looks like each wave of slimes is actually the offspring of the previous wave! Our sensors are able to detect the number of offspring that each slime you just defeated will have. Check this out! Here is graph that summarizes the distribution of the number of offspring.</span>
<span id="cb78-204"><a href="#cb78-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-207"><a href="#cb78-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-208"><a href="#cb78-208" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-209"><a href="#cb78-209" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">1</span>),</span>
<span id="cb78-210"><a href="#cb78-210" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-211"><a href="#cb78-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb78-212"><a href="#cb78-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Offspring Count"</span>,</span>
<span id="cb78-213"><a href="#cb78-213" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of Offspring"</span>,</span>
<span id="cb78-214"><a href="#cb78-214" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb78-215"><a href="#cb78-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span> </span>
<span id="cb78-216"><a href="#cb78-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">150</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb78-217"><a href="#cb78-217" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">150</span>, <span class="at">by =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb78-218"><a href="#cb78-218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb78-219"><a href="#cb78-219" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">1</span>))</span>
<span id="cb78-220"><a href="#cb78-220" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-221"><a href="#cb78-221" aria-hidden="true" tabindex="-1"></a>Best <span class="ot">&lt;-</span> allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-222"><a href="#cb78-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb78-223"><a href="#cb78-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-224"><a href="#cb78-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-225"><a href="#cb78-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-226"><a href="#cb78-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-227"><a href="#cb78-227" aria-hidden="true" tabindex="-1"></a>How many slimes do you think will contribute NO offspring to the next wave?</span>
<span id="cb78-228"><a href="#cb78-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-229"><a href="#cb78-229" aria-hidden="true" tabindex="-1"></a>Something to think about: There are a couple slimes that had LOTS of offspring, and one that even had <span class="in">`r max(Best$offspring_count)`</span> offspring! What made them so special? Why were they able to have so many offspring?</span>
<span id="cb78-230"><a href="#cb78-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-231"><a href="#cb78-231" aria-hidden="true" tabindex="-1"></a><span class="fu">## GENERATION 2</span></span>
<span id="cb78-232"><a href="#cb78-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-233"><a href="#cb78-233" aria-hidden="true" tabindex="-1"></a>That was close! Let's analyze what is going on! We think we've figured out what can explain the difference in the number of offspring! It looks like the slime that get closest to the player tend to have the most babies! Check this out!</span>
<span id="cb78-234"><a href="#cb78-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-237"><a href="#cb78-237" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-238"><a href="#cb78-238" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-239"><a href="#cb78-239" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span><span class="dv">2</span>),</span>
<span id="cb78-240"><a href="#cb78-240" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>Path.Distance.To.Player, <span class="at">y=</span>offspring_count))<span class="sc">+</span></span>
<span id="cb78-241"><a href="#cb78-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>Main.Type))<span class="sc">+</span></span>
<span id="cb78-242"><a href="#cb78-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of Offspring is related to Player Distance"</span>,</span>
<span id="cb78-243"><a href="#cb78-243" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Closest distance from player"</span>,</span>
<span id="cb78-244"><a href="#cb78-244" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb78-245"><a href="#cb78-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span> </span>
<span id="cb78-246"><a href="#cb78-246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb78-247"><a href="#cb78-247" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb78-248"><a href="#cb78-248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>),   </span>
<span id="cb78-249"><a href="#cb78-249" aria-hidden="true" tabindex="-1"></a>                     <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb78-250"><a href="#cb78-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette)</span>
<span id="cb78-251"><a href="#cb78-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-252"><a href="#cb78-252" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-253"><a href="#cb78-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-254"><a href="#cb78-254" aria-hidden="true" tabindex="-1"></a>Note that these graphs are interactive! You can get all sorts of information from them by hovering or clicking on them! Try to use that approach to figure out the Slime Type of the slime that had the MOST offspring! Was it the same slime that got closest to the player?</span>
<span id="cb78-255"><a href="#cb78-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-256"><a href="#cb78-256" aria-hidden="true" tabindex="-1"></a><span class="fu">## GENERATION 3</span></span>
<span id="cb78-257"><a href="#cb78-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-258"><a href="#cb78-258" aria-hidden="true" tabindex="-1"></a>How are those pesky slimes getting close to you? Let's look at some of the traits that might explain how they are getting through your defenses.</span>
<span id="cb78-259"><a href="#cb78-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-262"><a href="#cb78-262" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-263"><a href="#cb78-263" aria-hidden="true" tabindex="-1"></a>MainTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-264"><a href="#cb78-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Main.Type, Generation, Wave.Number, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-265"><a href="#cb78-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Main.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb78-266"><a href="#cb78-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-267"><a href="#cb78-267" aria-hidden="true" tabindex="-1"></a>SecondaryTypecounts <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-268"><a href="#cb78-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Secondary.Type, Generation, Wave.Number, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-269"><a href="#cb78-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Secondary.count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb78-270"><a href="#cb78-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-271"><a href="#cb78-271" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb78-272"><a href="#cb78-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-273"><a href="#cb78-273" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb78-274"><a href="#cb78-274" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Wave.Number<span class="sc">&lt;</span><span class="dv">4</span>), <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Main.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Main.Type))) <span class="sc">+</span></span>
<span id="cb78-275"><a href="#cb78-275" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb78-276"><a href="#cb78-276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Main Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb78-277"><a href="#cb78-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb78-278"><a href="#cb78-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb78-279"><a href="#cb78-279" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> slime_palette)</span>
<span id="cb78-280"><a href="#cb78-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-281"><a href="#cb78-281" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MainTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb78-282"><a href="#cb78-282" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Wave.Number<span class="sc">&lt;</span><span class="dv">4</span>), <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Main.count, <span class="at">color =</span> <span class="fu">as.factor</span>(Main.Type))) <span class="sc">+</span></span>
<span id="cb78-283"><a href="#cb78-283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>Main.Type)) <span class="sc">+</span></span>
<span id="cb78-284"><a href="#cb78-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Main Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb78-285"><a href="#cb78-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb78-286"><a href="#cb78-286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb78-287"><a href="#cb78-287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette)</span>
<span id="cb78-288"><a href="#cb78-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-289"><a href="#cb78-289" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(SecondaryTypecounts<span class="sc">%&gt;%</span></span>
<span id="cb78-290"><a href="#cb78-290" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Wave.Number<span class="sc">&lt;</span><span class="dv">4</span>), <span class="fu">aes</span>(<span class="at">x =</span> Generation, <span class="at">y =</span> Secondary.count, <span class="at">fill =</span> <span class="fu">as.factor</span>(Secondary.Type))) <span class="sc">+</span></span>
<span id="cb78-291"><a href="#cb78-291" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb78-292"><a href="#cb78-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Generation"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Secondary Slime Type"</span>) <span class="sc">+</span></span>
<span id="cb78-293"><a href="#cb78-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb78-294"><a href="#cb78-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb78-295"><a href="#cb78-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-296"><a href="#cb78-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-297"><a href="#cb78-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-298"><a href="#cb78-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-299"><a href="#cb78-299" aria-hidden="true" tabindex="-1"></a>These graphs will help you understand how the population of slimes is changing over time in response to your defenses.</span>
<span id="cb78-300"><a href="#cb78-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-301"><a href="#cb78-301" aria-hidden="true" tabindex="-1"></a>What type of slime is the most common in the last generation?</span>
<span id="cb78-302"><a href="#cb78-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-305"><a href="#cb78-305" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-306"><a href="#cb78-306" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-307"><a href="#cb78-307" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb78-308"><a href="#cb78-308" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Main.Type, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-309"><a href="#cb78-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> Main.Type), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb78-310"><a href="#cb78-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb78-311"><a href="#cb78-311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb78-312"><a href="#cb78-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb78-313"><a href="#cb78-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-314"><a href="#cb78-314" aria-hidden="true" tabindex="-1"></a>FitAvgType <span class="ot">&lt;-</span> allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-315"><a href="#cb78-315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation, Wave.Number, Main.Type) <span class="sc">%&gt;%</span></span>
<span id="cb78-316"><a href="#cb78-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Fitness"</span>), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">var =</span> var, <span class="at">sum =</span> sum), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">.names =</span> <span class="st">"{.fn}.{.col}"</span>))</span>
<span id="cb78-317"><a href="#cb78-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-318"><a href="#cb78-318" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(FitAvgType<span class="sc">%&gt;%</span></span>
<span id="cb78-319"><a href="#cb78-319" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb78-320"><a href="#cb78-320" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span> Main.Type, <span class="at">y =</span> sum.offspring.count.Fitness))<span class="sc">+</span></span>
<span id="cb78-321"><a href="#cb78-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span>
<span id="cb78-322"><a href="#cb78-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-323"><a href="#cb78-323" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-324"><a href="#cb78-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-327"><a href="#cb78-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-328"><a href="#cb78-328" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-329"><a href="#cb78-329" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-330"><a href="#cb78-330" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(offspring_count) <span class="sc">%&gt;%</span></span>
<span id="cb78-331"><a href="#cb78-331" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Unique.Slime.ID =</span> <span class="fu">factor</span>(Unique.Slime.ID, <span class="at">levels =</span> Unique.Slime.ID),</span>
<span id="cb78-332"><a href="#cb78-332" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_offspring =</span> <span class="fu">cumsum</span>(offspring_count),</span>
<span id="cb78-333"><a href="#cb78-333" aria-hidden="true" tabindex="-1"></a>           <span class="co"># Create discrete bins for cumulative_offspring with labels</span></span>
<span id="cb78-334"><a href="#cb78-334" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_bins =</span> <span class="fu">cut</span>(cumulative_offspring, </span>
<span id="cb78-335"><a href="#cb78-335" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">breaks =</span> <span class="fu">quantile</span>(cumulative_offspring, </span>
<span id="cb78-336"><a href="#cb78-336" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.9</span>, <span class="fl">0.95</span>, <span class="dv">1</span>)),</span>
<span id="cb78-337"><a href="#cb78-337" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span>)))</span>
<span id="cb78-338"><a href="#cb78-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-339"><a href="#cb78-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-340"><a href="#cb78-340" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-341"><a href="#cb78-341" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Main.Type)) <span class="sc">+</span></span>
<span id="cb78-342"><a href="#cb78-342" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Offspring Count"</span>,</span>
<span id="cb78-343"><a href="#cb78-343" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slimes"</span>,</span>
<span id="cb78-344"><a href="#cb78-344" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb78-345"><a href="#cb78-345" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb78-346"><a href="#cb78-346" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb78-347"><a href="#cb78-347" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)<span class="sc">+</span></span>
<span id="cb78-348"><a href="#cb78-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb78-349"><a href="#cb78-349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> slime_palette)</span>
<span id="cb78-350"><a href="#cb78-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-351"><a href="#cb78-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-352"><a href="#cb78-352" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-353"><a href="#cb78-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-354"><a href="#cb78-354" aria-hidden="true" tabindex="-1"></a><span class="fu">## Slime Fitness</span></span>
<span id="cb78-355"><a href="#cb78-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-356"><a href="#cb78-356" aria-hidden="true" tabindex="-1"></a>In most cases, it is useful to summarize the behavior of the fitness function for each experiment. In this case, the fitness function calculates a value of 50,000/(distance to player +1). I will also reverse calculate that for visualization, showing the actual distance to the player (<span class="in">`Path.Distance.To.Player`</span>). We then use Roulette Wheel selection to determine the parents of the next generation.</span>
<span id="cb78-357"><a href="#cb78-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-360"><a href="#cb78-360" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-361"><a href="#cb78-361" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allfiles, <span class="fu">aes</span>(<span class="at">x=</span>Wave.Number, <span class="at">y=</span> Path.Distance.To.Player))<span class="sc">+</span></span>
<span id="cb78-362"><a href="#cb78-362" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">x=</span>Wave.Number, <span class="at">y=</span> Path.Distance.To.Player, <span class="at">color =</span> offspring_count, <span class="at">alpha =</span> offspring_count))<span class="sc">+</span></span>
<span id="cb78-363"><a href="#cb78-363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb78-364"><a href="#cb78-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb78-365"><a href="#cb78-365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_continuous</span>(<span class="at">low=</span><span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb78-366"><a href="#cb78-366" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">80</span>)</span>
<span id="cb78-367"><a href="#cb78-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-368"><a href="#cb78-368" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-369"><a href="#cb78-369" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-370"><a href="#cb78-370" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(offspring_count) <span class="sc">%&gt;%</span></span>
<span id="cb78-371"><a href="#cb78-371" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Unique.Slime.ID =</span> <span class="fu">factor</span>(Unique.Slime.ID, <span class="at">levels =</span> Unique.Slime.ID),</span>
<span id="cb78-372"><a href="#cb78-372" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_offspring =</span> <span class="fu">cumsum</span>(offspring_count),</span>
<span id="cb78-373"><a href="#cb78-373" aria-hidden="true" tabindex="-1"></a>           <span class="co"># Create discrete bins for cumulative_offspring with labels</span></span>
<span id="cb78-374"><a href="#cb78-374" aria-hidden="true" tabindex="-1"></a>           <span class="at">cumulative_bins =</span> <span class="fu">cut</span>(cumulative_offspring, </span>
<span id="cb78-375"><a href="#cb78-375" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">breaks =</span> <span class="fu">quantile</span>(cumulative_offspring, </span>
<span id="cb78-376"><a href="#cb78-376" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.9</span>, <span class="fl">0.95</span>, <span class="dv">1</span>)),</span>
<span id="cb78-377"><a href="#cb78-377" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span>)))</span>
<span id="cb78-378"><a href="#cb78-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-379"><a href="#cb78-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-380"><a href="#cb78-380" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-381"><a href="#cb78-381" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cumulative_bins)) <span class="sc">+</span></span>
<span id="cb78-382"><a href="#cb78-382" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Unique.Slime.ID, <span class="at">y =</span> cumulative_offspring, <span class="at">group =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb78-383"><a href="#cb78-383" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Offspring Count"</span>,</span>
<span id="cb78-384"><a href="#cb78-384" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slime ID"</span>,</span>
<span id="cb78-385"><a href="#cb78-385" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb78-386"><a href="#cb78-386" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb78-387"><a href="#cb78-387" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb78-388"><a href="#cb78-388" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span>
<span id="cb78-389"><a href="#cb78-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-390"><a href="#cb78-390" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> cumulative_offspring)) <span class="sc">+</span></span>
<span id="cb78-391"><a href="#cb78-391" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cumulative_bins)) <span class="sc">+</span></span>
<span id="cb78-392"><a href="#cb78-392" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Offspring Count"</span>,</span>
<span id="cb78-393"><a href="#cb78-393" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slime ID"</span>,</span>
<span id="cb78-394"><a href="#cb78-394" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of Offspring"</span>) <span class="sc">+</span></span>
<span id="cb78-395"><a href="#cb78-395" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb78-396"><a href="#cb78-396" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb78-397"><a href="#cb78-397" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span>
<span id="cb78-398"><a href="#cb78-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-399"><a href="#cb78-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-400"><a href="#cb78-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-401"><a href="#cb78-401" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-402"><a href="#cb78-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-403"><a href="#cb78-403" aria-hidden="true" tabindex="-1"></a>these plots might be useful as a starting point. The ideas would be to show the player that not all slimes have the same number of babies. Then we would challenge them as to why that is happening.</span>
<span id="cb78-404"><a href="#cb78-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-405"><a href="#cb78-405" aria-hidden="true" tabindex="-1"></a>The next step would be to show them that the number of babies is related to the fitness function of the game. In this case that is how close they get to the player.</span>
<span id="cb78-406"><a href="#cb78-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-409"><a href="#cb78-409" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-410"><a href="#cb78-410" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Unique.Slime.ID, <span class="at">y =</span> Path.Distance.To.Player)) <span class="sc">+</span></span>
<span id="cb78-411"><a href="#cb78-411" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-412"><a href="#cb78-412" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Column Plot of Path Distance to Player"</span>,</span>
<span id="cb78-413"><a href="#cb78-413" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Slime ID"</span>,</span>
<span id="cb78-414"><a href="#cb78-414" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Path Distance to Player"</span>) <span class="sc">+</span></span>
<span id="cb78-415"><a href="#cb78-415" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb78-416"><a href="#cb78-416" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) </span>
<span id="cb78-417"><a href="#cb78-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-418"><a href="#cb78-418" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Path.Distance.To.Player)) <span class="sc">+</span></span>
<span id="cb78-419"><a href="#cb78-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb78-420"><a href="#cb78-420" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Path Distance to Player"</span>,</span>
<span id="cb78-421"><a href="#cb78-421" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Path Distance to Player"</span>,</span>
<span id="cb78-422"><a href="#cb78-422" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb78-423"><a href="#cb78-423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb78-424"><a href="#cb78-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-425"><a href="#cb78-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-426"><a href="#cb78-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-427"><a href="#cb78-427" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x=</span>Path.Distance.To.Player, <span class="at">y=</span> offspring_count))<span class="sc">+</span></span>
<span id="cb78-428"><a href="#cb78-428" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> cumulative_offspring))<span class="sc">+</span></span>
<span id="cb78-429"><a href="#cb78-429" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_gradient</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)</span>
<span id="cb78-430"><a href="#cb78-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-431"><a href="#cb78-431" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x=</span>Player.Distance.Fitness, <span class="at">y=</span> offspring_count))<span class="sc">+</span></span>
<span id="cb78-432"><a href="#cb78-432" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> cumulative_offspring))<span class="sc">+</span></span>
<span id="cb78-433"><a href="#cb78-433" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_gradient</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)</span>
<span id="cb78-434"><a href="#cb78-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-435"><a href="#cb78-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-436"><a href="#cb78-436" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-437"><a href="#cb78-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-438"><a href="#cb78-438" aria-hidden="true" tabindex="-1"></a>So the closer they get to the player, the more babies they have.</span>
<span id="cb78-439"><a href="#cb78-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-440"><a href="#cb78-440" aria-hidden="true" tabindex="-1"></a>Next, we have to figure out what traits might explain how they are getting so close!</span>
<span id="cb78-441"><a href="#cb78-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-444"><a href="#cb78-444" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-445"><a href="#cb78-445" aria-hidden="true" tabindex="-1"></a>slime_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"green"</span>, <span class="st">"grey"</span>, <span class="st">"darkred"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"lightgreen"</span>,<span class="st">"black"</span>)</span>
<span id="cb78-446"><a href="#cb78-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-447"><a href="#cb78-447" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df_sorted is your data frame</span></span>
<span id="cb78-448"><a href="#cb78-448" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Main.Type, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-449"><a href="#cb78-449" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> Main.Type), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb78-450"><a href="#cb78-450" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb78-451"><a href="#cb78-451" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb78-452"><a href="#cb78-452" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb78-453"><a href="#cb78-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-454"><a href="#cb78-454" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_sorted, <span class="fu">aes</span>(<span class="at">x =</span> Secondary.Type, <span class="at">y =</span> offspring_count)) <span class="sc">+</span></span>
<span id="cb78-455"><a href="#cb78-455" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> Secondary.Type), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb78-456"><a href="#cb78-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file) <span class="sc">+</span></span>
<span id="cb78-457"><a href="#cb78-457" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> slime_palette) <span class="sc">+</span></span>
<span id="cb78-458"><a href="#cb78-458" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb78-459"><a href="#cb78-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-460"><a href="#cb78-460" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-461"><a href="#cb78-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-462"><a href="#cb78-462" aria-hidden="true" tabindex="-1"></a>This would be for slime type. What about the traits?</span>
<span id="cb78-463"><a href="#cb78-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-464"><a href="#cb78-464" aria-hidden="true" tabindex="-1"></a><span class="fu">## Evolutionary Responses</span></span>
<span id="cb78-465"><a href="#cb78-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-466"><a href="#cb78-466" aria-hidden="true" tabindex="-1"></a>To estimate what traits might be under selection, we can calculate selection gradients for each trait. This is essentially the slope of the line between <span class="in">`offspring_count`</span> and the Trait.</span>
<span id="cb78-467"><a href="#cb78-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-468"><a href="#cb78-468" aria-hidden="true" tabindex="-1"></a>For each Trait, we should also try to understand its individual evolutionary trajectory. Is the population mean for the trait increasing or decreasing?</span>
<span id="cb78-469"><a href="#cb78-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-470"><a href="#cb78-470" aria-hidden="true" tabindex="-1"></a>Since the first thing we are interested in is Damage Resistance conferred by Type, we'll calculate Lightning resistance directly.</span>
<span id="cb78-471"><a href="#cb78-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-474"><a href="#cb78-474" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-475"><a href="#cb78-475" aria-hidden="true" tabindex="-1"></a>allfiles <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-476"><a href="#cb78-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LResist.Trait =</span> <span class="fu">case_when</span>(</span>
<span id="cb78-477"><a href="#cb78-477" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">1.0</span>,</span>
<span id="cb78-478"><a href="#cb78-478" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.6</span>,</span>
<span id="cb78-479"><a href="#cb78-479" aria-hidden="true" tabindex="-1"></a>    Main.Type <span class="sc">!=</span> <span class="st">"Lightning"</span> <span class="sc">&amp;</span> Secondary.Type <span class="sc">==</span> <span class="st">"Lightning"</span> <span class="sc">~</span> <span class="fl">0.4</span>,</span>
<span id="cb78-480"><a href="#cb78-480" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb78-481"><a href="#cb78-481" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb78-482"><a href="#cb78-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-483"><a href="#cb78-483" aria-hidden="true" tabindex="-1"></a>traittemp <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-484"><a href="#cb78-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Generation, offspring_count, file, LResist.Trait) <span class="sc">%&gt;%</span></span>
<span id="cb78-485"><a href="#cb78-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-486"><a href="#cb78-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST0 =</span> <span class="fu">as.vector</span>(<span class="fu">scale</span>(LResist.Trait, <span class="at">center =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb78-487"><a href="#cb78-487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST02 =</span> scaleST0 <span class="sc">*</span> scaleST0) <span class="sc">%&gt;%</span></span>
<span id="cb78-488"><a href="#cb78-488" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Generation =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Generation)))</span>
<span id="cb78-489"><a href="#cb78-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-490"><a href="#cb78-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-491"><a href="#cb78-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-492"><a href="#cb78-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-493"><a href="#cb78-493" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> traittemp <span class="sc">%&gt;%</span></span>
<span id="cb78-494"><a href="#cb78-494" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-495"><a href="#cb78-495" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>({</span>
<span id="cb78-496"><a href="#cb78-496" aria-hidden="true" tabindex="-1"></a>    model <span class="ot">&lt;-</span> <span class="fu">lm</span>(offspring_count <span class="sc">~</span> scaleST0 <span class="sc">+</span> scaleST02, <span class="at">data =</span> .)</span>
<span id="cb78-497"><a href="#cb78-497" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb78-498"><a href="#cb78-498" aria-hidden="true" tabindex="-1"></a>      <span class="at">Beta =</span> <span class="fu">coefficients</span>(model)[<span class="dv">2</span>],</span>
<span id="cb78-499"><a href="#cb78-499" aria-hidden="true" tabindex="-1"></a>      <span class="at">PB =</span> <span class="fu">summary</span>(model)<span class="sc">$</span>coef[<span class="dv">2</span>, <span class="dv">4</span>],</span>
<span id="cb78-500"><a href="#cb78-500" aria-hidden="true" tabindex="-1"></a>      <span class="at">Trait =</span> <span class="st">"LResist.Trait"</span></span>
<span id="cb78-501"><a href="#cb78-501" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb78-502"><a href="#cb78-502" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb78-503"><a href="#cb78-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-504"><a href="#cb78-504" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> Gradients <span class="sc">%&gt;%</span></span>
<span id="cb78-505"><a href="#cb78-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">if_else</span>(PB <span class="sc">&lt;</span> <span class="fl">0.05</span> , <span class="st">"Y"</span>, <span class="st">"N"</span>))</span>
<span id="cb78-506"><a href="#cb78-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-507"><a href="#cb78-507" aria-hidden="true" tabindex="-1"></a>TraitAvg <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-508"><a href="#cb78-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(file, Generation) <span class="sc">%&gt;%</span></span>
<span id="cb78-509"><a href="#cb78-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"Trait"</span>), mean,  <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb78-510"><a href="#cb78-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-511"><a href="#cb78-511" aria-hidden="true" tabindex="-1"></a>df_Gen <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-512"><a href="#cb78-512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb78-513"><a href="#cb78-513" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-514"><a href="#cb78-514" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-515"><a href="#cb78-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-516"><a href="#cb78-516" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_Gen, <span class="fu">aes</span>(<span class="at">x=</span>LResist.Trait, <span class="at">y =</span> offspring_count))<span class="sc">+</span></span>
<span id="cb78-517"><a href="#cb78-517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span>
<span id="cb78-518"><a href="#cb78-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-519"><a href="#cb78-519" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> LResist.Trait))<span class="sc">+</span></span>
<span id="cb78-520"><a href="#cb78-520" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> LResist.Trait), <span class="at">method =</span> <span class="st">"loess"</span>) <span class="sc">+</span></span>
<span id="cb78-521"><a href="#cb78-521" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb78-522"><a href="#cb78-522" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>) </span>
<span id="cb78-523"><a href="#cb78-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-524"><a href="#cb78-524" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Gradients, <span class="fu">aes</span>(<span class="at">x=</span>Generation, <span class="at">y =</span> Beta))<span class="sc">+</span></span>
<span id="cb78-525"><a href="#cb78-525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> sig))<span class="sc">+</span></span>
<span id="cb78-526"><a href="#cb78-526" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">fill=</span><span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb78-527"><a href="#cb78-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>,<span class="st">"red"</span>))<span class="sc">+</span></span>
<span id="cb78-528"><a href="#cb78-528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb78-529"><a href="#cb78-529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb78-530"><a href="#cb78-530" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb78-531"><a href="#cb78-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-532"><a href="#cb78-532" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-533"><a href="#cb78-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-534"><a href="#cb78-534" aria-hidden="true" tabindex="-1"></a>Now we'll perform a similar analysis for the remaining traits.</span>
<span id="cb78-535"><a href="#cb78-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-538"><a href="#cb78-538" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-539"><a href="#cb78-539" aria-hidden="true" tabindex="-1"></a>Gradientslong <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb78-540"><a href="#cb78-540" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(Traits)){</span>
<span id="cb78-541"><a href="#cb78-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-542"><a href="#cb78-542" aria-hidden="true" tabindex="-1"></a>traittemp<span class="ot">&lt;-</span>allfiles<span class="sc">%&gt;%</span></span>
<span id="cb78-543"><a href="#cb78-543" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Generation, offspring_count, file, <span class="sc">!!</span><span class="fu">sym</span>(Traits[i]))<span class="sc">%&gt;%</span></span>
<span id="cb78-544"><a href="#cb78-544" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file)<span class="sc">%&gt;%</span></span>
<span id="cb78-545"><a href="#cb78-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST0 =</span> <span class="fu">as.vector</span>(<span class="fu">scale</span>(<span class="sc">!!</span><span class="fu">sym</span>(Traits[i]), <span class="at">center =</span> <span class="cn">TRUE</span>)))<span class="sc">%&gt;%</span></span>
<span id="cb78-546"><a href="#cb78-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">scaleST02 =</span> scaleST0<span class="sc">*</span>scaleST0)<span class="sc">%&gt;%</span></span>
<span id="cb78-547"><a href="#cb78-547" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Generation =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Generation)))</span>
<span id="cb78-548"><a href="#cb78-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-549"><a href="#cb78-549" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> traittemp <span class="sc">%&gt;%</span></span>
<span id="cb78-550"><a href="#cb78-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Generation, file) <span class="sc">%&gt;%</span></span>
<span id="cb78-551"><a href="#cb78-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>({</span>
<span id="cb78-552"><a href="#cb78-552" aria-hidden="true" tabindex="-1"></a>    model <span class="ot">&lt;-</span> <span class="fu">lm</span>(offspring_count <span class="sc">~</span> scaleST0 <span class="sc">+</span> scaleST02, <span class="at">data =</span> .)</span>
<span id="cb78-553"><a href="#cb78-553" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb78-554"><a href="#cb78-554" aria-hidden="true" tabindex="-1"></a>      <span class="at">Beta =</span> <span class="fu">coefficients</span>(model)[<span class="dv">2</span>],</span>
<span id="cb78-555"><a href="#cb78-555" aria-hidden="true" tabindex="-1"></a>      <span class="at">PB =</span> <span class="fu">summary</span>(model)<span class="sc">$</span>coef[<span class="dv">2</span>, <span class="dv">4</span>],</span>
<span id="cb78-556"><a href="#cb78-556" aria-hidden="true" tabindex="-1"></a>      <span class="at">Trait =</span> Traits[i]</span>
<span id="cb78-557"><a href="#cb78-557" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb78-558"><a href="#cb78-558" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb78-559"><a href="#cb78-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-560"><a href="#cb78-560" aria-hidden="true" tabindex="-1"></a>Gradients <span class="ot">&lt;-</span> Gradients <span class="sc">%&gt;%</span></span>
<span id="cb78-561"><a href="#cb78-561" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">if_else</span>(PB <span class="sc">&lt;</span> <span class="fl">0.05</span> , <span class="st">"Y"</span>, <span class="st">"N"</span>))</span>
<span id="cb78-562"><a href="#cb78-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-563"><a href="#cb78-563" aria-hidden="true" tabindex="-1"></a>Gradientslong <span class="ot">&lt;-</span> <span class="fu">rbind</span>(Gradientslong, Gradients)</span>
<span id="cb78-564"><a href="#cb78-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-565"><a href="#cb78-565" aria-hidden="true" tabindex="-1"></a>G <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> GeneAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Genes[i])))<span class="sc">+</span></span>
<span id="cb78-566"><a href="#cb78-566" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data =</span> allfiles, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Genes[i])), <span class="at">size=</span><span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.02</span>)<span class="sc">+</span></span>
<span id="cb78-567"><a href="#cb78-567" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">data =</span> GeneAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(<span class="fu">paste</span>(<span class="st">"mean."</span>,Genes[i], <span class="at">sep =</span> <span class="st">""</span>)), <span class="at">method =</span> <span class="st">"loess"</span>)) <span class="sc">+</span></span>
<span id="cb78-568"><a href="#cb78-568" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb78-569"><a href="#cb78-569" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>) </span>
<span id="cb78-570"><a href="#cb78-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-571"><a href="#cb78-571" aria-hidden="true" tabindex="-1"></a>P <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Traits[i])))<span class="sc">+</span></span>
<span id="cb78-572"><a href="#cb78-572" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">data =</span> TraitAvg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Traits[i])), <span class="at">method =</span> <span class="st">"loess"</span>) <span class="sc">+</span></span>
<span id="cb78-573"><a href="#cb78-573" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data=</span>allfiles, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Generation), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(Traits[i]), <span class="at">color =</span> offspring_count), <span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span><span class="fl">0.1</span>)<span class="sc">+</span></span>
<span id="cb78-574"><a href="#cb78-574" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb78-575"><a href="#cb78-575" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>file, <span class="at">ncol =</span> <span class="dv">2</span>) </span>
<span id="cb78-576"><a href="#cb78-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-577"><a href="#cb78-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-578"><a href="#cb78-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-579"><a href="#cb78-579" aria-hidden="true" tabindex="-1"></a>S <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Gradients, <span class="fu">aes</span>(<span class="at">x=</span>Generation, <span class="at">y =</span> Beta))<span class="sc">+</span></span>
<span id="cb78-580"><a href="#cb78-580" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> sig))<span class="sc">+</span></span>
<span id="cb78-581"><a href="#cb78-581" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">fill=</span><span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb78-582"><a href="#cb78-582" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>,<span class="st">"red"</span>))<span class="sc">+</span></span>
<span id="cb78-583"><a href="#cb78-583" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb78-584"><a href="#cb78-584" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb78-585"><a href="#cb78-585" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb78-586"><a href="#cb78-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-587"><a href="#cb78-587" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(G)</span>
<span id="cb78-588"><a href="#cb78-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-589"><a href="#cb78-589" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(P)</span>
<span id="cb78-590"><a href="#cb78-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-591"><a href="#cb78-591" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(S)</span>
<span id="cb78-592"><a href="#cb78-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-593"><a href="#cb78-593" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb78-594"><a href="#cb78-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-595"><a href="#cb78-595" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-596"><a href="#cb78-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-597"><a href="#cb78-597" aria-hidden="true" tabindex="-1"></a><span class="fu">## Heatmap</span></span>
<span id="cb78-598"><a href="#cb78-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-601"><a href="#cb78-601" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-602"><a href="#cb78-602" aria-hidden="true" tabindex="-1"></a>GradMatrix <span class="ot">&lt;-</span> Gradientslong <span class="sc">%&gt;%</span></span>
<span id="cb78-603"><a href="#cb78-603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Generation, Trait, Beta)<span class="sc">%&gt;%</span></span>
<span id="cb78-604"><a href="#cb78-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Trait, <span class="at">values_from =</span> Beta)</span>
<span id="cb78-605"><a href="#cb78-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-606"><a href="#cb78-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-607"><a href="#cb78-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-608"><a href="#cb78-608" aria-hidden="true" tabindex="-1"></a>paletteLength <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb78-609"><a href="#cb78-609" aria-hidden="true" tabindex="-1"></a>myColor <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"white"</span>, <span class="st">"#ED2024"</span>))(paletteLength)</span>
<span id="cb78-610"><a href="#cb78-610" aria-hidden="true" tabindex="-1"></a><span class="co"># length(breaks) == length(paletteLength) + 1</span></span>
<span id="cb78-611"><a href="#cb78-611" aria-hidden="true" tabindex="-1"></a><span class="co"># use floor and ceiling to deal with even/odd length pallettelengths</span></span>
<span id="cb78-612"><a href="#cb78-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-613"><a href="#cb78-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-614"><a href="#cb78-614" aria-hidden="true" tabindex="-1"></a>Heatmap <span class="ot">&lt;-</span> GradMatrix <span class="sc">%&gt;%</span></span>
<span id="cb78-615"><a href="#cb78-615" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()<span class="sc">%&gt;%</span></span>
<span id="cb78-616"><a href="#cb78-616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Main.Resistance.Trait, Secondary.Resistance.Trait, Slime.View.Range.Trait, </span>
<span id="cb78-617"><a href="#cb78-617" aria-hidden="true" tabindex="-1"></a>         Tower.View.Range.Trait, </span>
<span id="cb78-618"><a href="#cb78-618" aria-hidden="true" tabindex="-1"></a>         Tower.Attraction.Trait, Slime.Optimal.Distance.Trait, </span>
<span id="cb78-619"><a href="#cb78-619" aria-hidden="true" tabindex="-1"></a>         Speed.Trait, Turn.Rate.Trait)</span>
<span id="cb78-620"><a href="#cb78-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-621"><a href="#cb78-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-622"><a href="#cb78-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-623"><a href="#cb78-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-624"><a href="#cb78-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-625"><a href="#cb78-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-626"><a href="#cb78-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-627"><a href="#cb78-627" aria-hidden="true" tabindex="-1"></a>Heatmatrix2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(Heatmap)</span>
<span id="cb78-628"><a href="#cb78-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-629"><a href="#cb78-629" aria-hidden="true" tabindex="-1"></a>myBreaks2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="fu">min</span>(Heatmatrix2), <span class="dv">0</span>, <span class="at">length.out=</span><span class="fu">ceiling</span>(paletteLength<span class="sc">/</span><span class="dv">2</span>) <span class="sc">+</span> <span class="dv">1</span>), <span class="fu">seq</span>(<span class="fu">max</span>(Heatmatrix2)<span class="sc">/</span>paletteLength, <span class="fu">max</span>(Heatmatrix2), </span>
<span id="cb78-630"><a href="#cb78-630" aria-hidden="true" tabindex="-1"></a>                                                                                      <span class="at">length.out=</span><span class="fu">floor</span>(paletteLength<span class="sc">/</span><span class="dv">2</span>)))</span>
<span id="cb78-631"><a href="#cb78-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-632"><a href="#cb78-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-633"><a href="#cb78-633" aria-hidden="true" tabindex="-1"></a>heatmap2 <span class="ot">=</span> <span class="fu">pheatmap</span>(Heatmatrix2,</span>
<span id="cb78-634"><a href="#cb78-634" aria-hidden="true" tabindex="-1"></a>         <span class="at">cluster_rows =</span> <span class="cn">FALSE</span>, <span class="co"># don't cluster rows</span></span>
<span id="cb78-635"><a href="#cb78-635" aria-hidden="true" tabindex="-1"></a>         <span class="at">cluster_cols =</span> <span class="cn">TRUE</span>, <span class="co"># don't cluster columns</span></span>
<span id="cb78-636"><a href="#cb78-636" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_distance_cols =</span> <span class="st">"euclidean"</span>,</span>
<span id="cb78-637"><a href="#cb78-637" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_distance_rows =</span> <span class="st">"euclidean"</span>,</span>
<span id="cb78-638"><a href="#cb78-638" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_method =</span> <span class="st">"complete"</span>,</span>
<span id="cb78-639"><a href="#cb78-639" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> myColor,</span>
<span id="cb78-640"><a href="#cb78-640" aria-hidden="true" tabindex="-1"></a>         <span class="at">breaks =</span> myBreaks2)</span>
<span id="cb78-641"><a href="#cb78-641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb78-642"><a href="#cb78-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-643"><a href="#cb78-643" aria-hidden="true" tabindex="-1"></a><span class="fu">## SINGLE GENERATION PLOTS</span></span>
<span id="cb78-644"><a href="#cb78-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-647"><a href="#cb78-647" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb78-648"><a href="#cb78-648" aria-hidden="true" tabindex="-1"></a>singlegen <span class="ot">&lt;-</span> allfiles <span class="sc">%&gt;%</span></span>
<span id="cb78-649"><a href="#cb78-649" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">5</span>)</span>
<span id="cb78-650"><a href="#cb78-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-651"><a href="#cb78-651" aria-hidden="true" tabindex="-1"></a>singlegrad <span class="ot">&lt;-</span> Gradientslong <span class="sc">%&gt;%</span></span>
<span id="cb78-652"><a href="#cb78-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Generation <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb78-653"><a href="#cb78-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-654"><a href="#cb78-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-655"><a href="#cb78-655" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(singlegen, <span class="fu">aes</span>(<span class="at">x=</span>Speed.Trait) )<span class="sc">+</span></span>
<span id="cb78-656"><a href="#cb78-656" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb78-657"><a href="#cb78-657" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(reproduce<span class="sc">~</span>file)</span>
<span id="cb78-658"><a href="#cb78-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-659"><a href="#cb78-659" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(singlegen, <span class="fu">aes</span>(<span class="at">x=</span>Turn.Rate.Trait) )<span class="sc">+</span></span>
<span id="cb78-660"><a href="#cb78-660" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()<span class="sc">+</span></span>
<span id="cb78-661"><a href="#cb78-661" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(reproduce<span class="sc">~</span>file)</span>
<span id="cb78-662"><a href="#cb78-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-663"><a href="#cb78-663" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(singlegen, <span class="fu">aes</span>(<span class="at">x=</span>Turn.Rate.Trait, <span class="at">y =</span> Speed.Trait, <span class="at">color =</span> reproduce))<span class="sc">+</span></span>
<span id="cb78-664"><a href="#cb78-664" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb78-665"><a href="#cb78-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>file)</span>
<span id="cb78-666"><a href="#cb78-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-667"><a href="#cb78-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-668"><a href="#cb78-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-669"><a href="#cb78-669" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>